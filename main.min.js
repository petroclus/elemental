var DEBUG=1,server={},phaserGame={},app={settings:{version:"2.8",useCustomAutoplayFeature:!0,disablePauseOnLostFocus:!1,disableSlamStopOption:!1,disableWinVisualCancellation:!1,reverseAutoplayList:!0,bigWinMul:15,hugeWinMul:25,megaWinMul:50}};(function(){for(var c={sprintf:function(a){for(var b=1,g=arguments.length;b<g;++b)a=a.replace(/%s/,arguments[b]);return a},bind:function(a,b){return"string"===typeof b&&(b=a[b]),function(){b.apply(a,arguments)}}},b={},a,g=location.search.substring(1).split("&"),h=g.length;h--;)a=g[h].split("="),b[a[0]]=decodeURIComponent(a[1]);c.urlQuery=b;c.XHR=function(a,b,g,c){var h=g||{},n=new XMLHttpRequest;n.open(a,b,!0);n.withCredentials=!0;n.setRequestHeader("Content-Type","application/json");n.onreadystatechange=
function(){4===n.readyState&&(h.complete&&h.complete(n),200===n.status&&(h.success?h.success(n.responseText):h.error&&h.error(n.status)))};n.send(c||null)};c.ordinalSuffixOf=function(a){var b=a%10;return 1===b&&11!==a?a+"st":2===b&&12!==a?a+"nd":3===b&&13!==a?a+"rd":a+"th"};app.util=c})();(function(){function c(a){return!!(""===a||a&&a.charCodeAt&&a.substr)}function b(a){return m?m(a):"[object Array]"===n.call(a)}function a(a){return a&&"[object Object]"===n.call(a)}function g(a,b){var g;a=a||{};b=b||{};for(g in b)b.hasOwnProperty(g)&&null===a[g]&&(a[g]=b[g]);return a}function h(a,b,g){var c=[],h,d;if(!a)return c;if(l&&a.map===l)return a.map(b,g);h=0;for(d=a.length;h<d;h++)c[h]=b.call(g,a[h],h,a);return c}function d(a,b){a=Math.round(Math.abs(a));return isNaN(a)?b:a}function e(a){var b=
f.settings.currency.format;"function"===typeof a&&(a=a());return c(a)&&a.match("%v")?{pos:a,neg:a.replace("-","").replace("%v","-%v"),zero:a}:!a||!a.pos||!a.pos.match("%v")?!c(b)?b:f.settings.currency.format={pos:b,neg:b.replace("%v","-%v"),zero:b}:a}var f={version:"0.3.2",settings:{currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}}},l=Array.prototype.map,m=Array.isArray,n=Object.prototype.toString,t=f.unformat=
f.parse=function(a,g){if(b(a))return h(a,function(a){return t(a,g)});a=a||0;if("number"===typeof a)return a;g=g||f.settings.number.decimal;var c=RegExp("[^0-9-"+g+"]",["g"]),c=parseFloat((""+a).replace(/\((.*)\)/,"-$1").replace(c,"").replace(g,"."));return!isNaN(c)?c:0},r=f.toFixed=function(a,b){b=d(b,f.settings.number.precision);var g=Math.pow(10,b);return(Math.round(f.unformat(a)*g)/g).toFixed(b)},w=f.formatNumber=function(c,e,l,n){if(b(c))return h(c,function(a){return w(a,e,l,n)});c=t(c);var m=
g(a(e)?e:{precision:e,thousand:l,decimal:n},f.settings.number),s=d(m.precision),p=0>c?"-":"",q=parseInt(r(Math.abs(c||0),s),10)+"",v=3<q.length?q.length%3:0;return p+(v?q.substr(0,v)+m.thousand:"")+q.substr(v).replace(/(\d{3})(?=\d)/g,"$1"+m.thousand)+(s?m.decimal+r(Math.abs(c),s).split(".")[1]:"")},x=f.formatMoney=function(c,l,m,n,r,s){if(b(c))return h(c,function(a){return x(a,l,m,n,r,s)});c=t(c);var p=g(a(l)?l:{symbol:l,precision:m,thousand:n,decimal:r,format:s},f.settings.currency),q=e(p.format);
return(0<c?q.pos:0>c?q.neg:q.zero).replace("%s",p.symbol).replace("%v",w(Math.abs(c),d(p.precision),p.thousand,p.decimal))};f.formatColumn=function(l,m,n,r,x,s){if(!l)return[];var p=g(a(m)?m:{symbol:m,precision:n,thousand:r,decimal:x,format:s},f.settings.currency),q=e(p.format),v=q.pos.indexOf("%s")<q.pos.indexOf("%v")?!0:!1,u=0;l=h(l,function(a){if(b(a))return f.formatColumn(a,p);a=t(a);a=(0<a?q.pos:0>a?q.neg:q.zero).replace("%s",p.symbol).replace("%v",w(Math.abs(a),d(p.precision),p.thousand,p.decimal));
a.length>u&&(u=a.length);return a});return h(l,function(a){return c(a)&&a.length<u?v?a.replace(p.symbol,p.symbol+Array(u-a.length+1).join(" ")):Array(u-a.length+1).join(" ")+a:a})};window.accounting=f})(this);(function(){function c(){this.initialize()}var b=c.prototype={};b.initialize=function(){void 0};b.preload=function(){void 0;this.load.image("preloader",app.assetPath("assets/preloader.gif"))};b.create=function(){this.game.input.maxPointers=1;this.game.state.start("preloaderState")};app.BootState=c;window.p=b})();(function(){function c(){this.asset=null;this.ready=!1}var b=c.prototype={};b.preload=function(){void 0;this.asset=this.add.sprite(0.5*this.game.width-110,0.5*this.game.height-10,"preloader");this.load.onLoadComplete.addOnce(this.onLoadComplete,this);this.load.onFileComplete.add(this.onFileComplete,this);this.load.setPreloadSprite(this.asset);this.loadResources()};b.create=function(){this.asset.cropEnabled=!1};b.loadResources=function(){this.load.atlas("mainatlas",app.assetPath("assets/elementalatlas.png"),
app.assetPath("assets/elementalatlas.json"));this.load.bitmapFont("numberfont",app.assetPath("assets/font-export.png"),app.assetPath("assets/font-export.xml"));this.load.audio("winstart4",app.assetPath("assets/audio/350352_1.mp3"));this.load.audio("winstart1",app.assetPath("assets/audio/377223.mp3"));this.load.audio("bigwinintrosound",app.assetPath("assets/audio/bigwin.mp3"));this.load.audio("decsound",app.assetPath("assets/audio/button1.mp3"));this.load.audio("incsound",app.assetPath("assets/audio/button2.mp3"));
this.load.audio("music",app.assetPath("assets/audio/mainloop.mp3"));this.load.audio("rstop",app.assetPath("assets/audio/reelstop.mp3"));this.load.audio("spin",app.assetPath("assets/audio/spin.mp3"));this.load.audio("wildoutro",app.assetPath("assets/audio/wildend.mp3"));this.load.audio("wildmusic",app.assetPath("assets/audio/wildloop.mp3"));this.load.audio("wildspin",app.assetPath("assets/audio/wildspin.mp3"));this.load.audio("wildintro",app.assetPath("assets/audio/wildstart.mp3"));this.load.audio("banksound",
app.assetPath("assets/audio/winstart0.mp3"));this.load.image("winlinerope",app.assetPath("assets/winline-rope.png"));this.load.text("help_en",app.assetPath("assets/help/rules_en.html"));"en"!==app.locale.lang&&this.load.text("help",app.assetPath("assets/help/rules_"+app.locale.lang+".html"))};b.update=function(){};b.onFileComplete=function(a){if(this.onProgressUpdated)this.onProgressUpdated(a)};b.onLoadComplete=function(){this.ready=!0;this.game.soundController=new app.SoundController(this.game);
this.game.soundController.load();app.soundController=this.game.soundController;var a=null;"en"!==app.locale.lang&&(a=this.game.cache.getText("help"));null===a&&(a=this.game.cache.getText("help_en"));document.getElementById("app-help-content").innerHTML=a;if(this.onComplete)this.onComplete()};b.onProgressUpdated=null;b.onComplete=null;app.PreloaderState=c;window.p=b})();(function(){function c(){void 0}var b=c.prototype={};b.create=function(){void 0;DEBUG&&(this.game.time.advancedTiming=!0);this.xSpacing=app.xSpacing;this.ySpacing=app.ySpacing;var a=this.game.make.graphics(0,0);a.beginFill(0,1);a.drawRect(140,180,744,500);a.endFill();this.gameView=this.game.add.group();this.gameView.x=512;this.gameView.y=430;this.gameView.reelsDim=this.gameView.create(-375,-250,"mainatlas","reelsdim");this.gameView.create(-422,-252,"mainatlas","column1");this.gameView.create(329,
-252,"mainatlas","column2");this.gameView.wispGroup=this.game.make.group();this.gameView.add(this.gameView.wispGroup);this.gameView.winLineView=new app.WinLineView(this.game,this.gameView);this.gameView.reelSet=new app.ReelSetView(this.game,this.gameView);this.gameView.reelSet.mask=a;this.gameView.topReelsFade=this.gameView.create(-382.5,-250,"mainatlas","reelsmask-top");this.gameView.bottomReelsFade=this.gameView.create(-394.5,154,"mainatlas","reelsmask-bottom");this.gameView.create(-128,-360,"mainatlas",
"logo");this.gameView.winVisuals=new app.WinVisualsView(this.game,this.gameView);this.gameView.hudView=new app.HudView(this.game,this.gameView);this.gameView.infoView=new app.InfoView(this.game,this.gameView);this.gameView.autoplayView=new app.AutoplayView(this.game,this.gameView);this.setAspect();this.gameView.bigwinView=new app.BigwinView(this.game,this.gameView);this.menuView=new app.MenuView(this.game,this.gameView);this.gameView.visible=!1;this.game.device.android&&(this.game.device.chrome&&
55<=this.game.device.chromeVersion)&&(this.game.sound.setTouchLock(),this.game.input.touch.addTouchLockCallback(function(){void 0;if(this.usingWebAudio){var a=this.context.createBuffer(1,1,22050);this._unlockSource=this.context.createBufferSource();this._unlockSource.buffer=a;this._unlockSource.connect(this.context.destination);void 0===this._unlockSource.start?this._unlockSource.noteOn(0):this._unlockSource.start(0);"suspended"===this._unlockSource.context.state&&this._unlockSource.context.resume()}return!0},
this.game.sound,!0));if(this.onCreated)this.onCreated()};b.hideMenu=function(){void 0;this.menuView.visible=!1;this.gameView.visible=!0;window.phaserGame.sound.unlock();window.phaserGame.sound.context.resume();app.soundController.wildMusic.loop=!0;app.soundController.music.loop=!0;app.soundController.music.play()};b.update=function(){this.playController&&this.playController.update()};b.render=function(){DEBUG&&(this.game.debug.text(this.game.time.fps||"--",130,110,"#00ff00"),this.game.debug.start(130,
130),this.game.debug.line("version: "+app.settings.version),this.game.debug.line("state: "+this.sound.context.state),this.game.debug.line("android: "+this.game.device.android),this.game.debug.line("chrome: "+this.game.device.chrome),this.game.debug.line("chromeversion: "+this.game.device.chromeVersion),this.game.debug.line("getSoundControlsAvailableFromOperator: "+app.settings.getSoundControlsAvailableFromOperator),this.game.debug.stop())};b.init=function(){void 0};b.preload=function(){void 0};b.actionStart=
function(a){void 0;void 0;void 0;app.model.state=a;this.playController=new app.PlayController(this.game,this.gameView);this.playController.onActionComplete=app.util.bind(this,this.onActionComplete);this.playController.onPlayEnded=app.util.bind(this,this.onPlayEnded);this.hudController=new app.HudController(this.game,this.gameView);this.hudController.onMenuButtonPressed=app.util.bind(this,this.menuButtonPressed);this.hudController.onSpinButtonPressed=app.util.bind(this,this.spinButtonPressed);this.hudController.onAutoSpinButtonPressed=
app.util.bind(this,this.onAutoSpinButtonPressed);this.hudController.onAutoStopButtonPressed=app.util.bind(this,this.onAutoStopButtonPressed);this.hudController.onBetChanged=app.util.bind(this,this.betChanged);app.hudController=this.hudController;this.fastForwardHandler=app.util.bind(this,this.onFastForwardButtonPressed);this.reviewController=new app.ReviewController(this.game,this.gameView);this.wispController=new app.WispController(this.game,this.gameView);this.wispController.start();this.showBetlinesTimer=
this.game.time.create(!1);this.showBetlinesTimer.start()};b.actionPlaceYourBets=function(a){void 0;void 0;void 0;app.model.state=a;app.model.totalWin=0;app.model.totalMul=0;this.game.make.tween(this.gameView.reelsDim).to({alpha:1},300,Phaser.Easing.Linear.In,!0);this.hudController.placeYourBets();this.reviewController.start(app.model.reelOutcome);this.gameView.betlineSet&&this.gameView.betlineSet.enable()};b.actionBetPlaced=function(){void 0;void 0;this.hudController.disableAllButtons();this.hudController.drawBet();
this.hudController.drawBalance();app.controller.startNextAction()};b.actionReelOutcome=function(a,b){void 0;void 0;app.model.state=a;app.model.reelOutcome=b;app.model.autoplay&&0<app.model.autoplay.spins&&0===app.model.reelOutcome.spinNo&&(app.model.autoplay.spins--,app.model.promotion.enabled||(app.model.autoplay.spent=app.model.state.totalBet),app.model.autoplay.won=app.model.state.totalWin,app.model.autoplay.totalSpent+=app.model.autoplay.spent,app.model.autoplay.totalWon+=app.model.autoplay.won,
this.hudController.updateAutoSpin());0===app.model.reelOutcome.spinNo&&this.hudController.betAccepted();this.playController.reelsCanBeStopped=!0;void 0===app.model.state.holdBits&&!1===app.settings.disableSlamStopOption&&this.hudController.enableFastForward(this.fastForwardHandler)};b.actionStartReels=function(a,b){void 0;void 0;app.model.state=a;app.model.totalWin=0;app.model.totalMul=0;app.model.state.holdBits=b.holdBits;this.reviewController.end();this.hudController.noMoreBets();this.gameView.betlineSet&&
this.gameView.betlineSet.disable();app.model.state.lineBet=b.lineBet;app.model.state.betLines=b.betLines;this.playController.startReels()};b.actionSpinReels=function(a,b){void 0;void 0;app.model.state=a;app.model.state.holdBits=b.holdBits;this.playController.spinReels()};b.actionAutoSpin=function(a){void 0;void 0;app.model.state=a;app.model.state.holdBits=0;app.model.totalWin=0;app.model.totalMul=0;app.model.state.lineBet=this.hudController.getBet();app.model.state.betLines=this.hudController.getBetLines();
if(this.onPlayRequest)this.onPlayRequest()};b.actionEndPlay=function(a){void 0;void 0;app.model.state=a;this.playController.end()};b.menuButtonPressed=function(){void 0;if(this.onMenuButtonPressed)this.onMenuButtonPressed()};b.spinButtonPressed=function(a){void 0;this.reviewController.end();this.hudController.noMoreBets();this.gameView.betlineSet&&this.gameView.betlineSet.disable();app.model.state.lineBet=a.getBet();app.model.state.betLines=a.getBetLines();if(this.onPlayRequest)this.onPlayRequest()};
b.playRequestConfirmed=function(){this.playController.start()};b.onAutoSpinButtonPressed=function(a){void 0;this.hudController.setAutoSpin();this.spinButtonPressed(a)};b.onAutoStopButtonPressed=function(){void 0;app.model.autoplay.spins=0;this.hudController.unsetAutoSpin()};b.betChanged=function(){void 0;this.gameView.infoView&&this.gameView.infoView.updateInfo();this.gameView.autoplayView&&this.gameView.autoplayView.updateInfo();this.reviewController.end();if(this.onBetChanged)this.onBetChanged()};
b.onFastForwardButtonPressed=function(){void 0;this.playController.slamStopReels()};b.abortSpin=function(){void 0;this.playController.abortReels()};b.onActionComplete=function(){void 0;app.controller.startNextAction()};b.onPlayEnded=function(){void 0;this.game.soundController.music.isPlaying||this.game.soundController.music.play();this.hudController.showLastWin();app.controller.handlePlayEnded()};b.setAspect=function(){void 0;app.isPortrait?this.gameView&&(this.gameView.hudView.setPortrait(),this.gameView.autoplayView.setPortrait()):
this.gameView&&(this.gameView.hudView.setLandscape(),this.gameView.autoplayView.setLandscape())};b.onMenuButtonPressed=null;b.onCreated=null;b.onPlayRequest=null;b.onBetChanged=null;app.BaseState=c;window.p=b})();(function(){var c=function(a,b){Phaser.Group.call(this,a,b);this.xSpacing=app.xSpacing;this.ySpacing=app.ySpacing;this.reelSymbols=[];for(var c=0;5>c;c++){var d=new app.ReelSymbol(this.game,this,c,1,0,0-1*this.ySpacing+c*this.ySpacing);this.reelSymbols.push(d)}this.reelSymbols[0].visible=!1;this.reelSymbols[4].visible=!1},b=c.prototype=Object.create(Phaser.Group.prototype);c.prototype.constructor=c;app.ReelView=c;window.p=b})();(function(){var c=function(a,b){Phaser.Group.call(this,a,b);this.xSpacing=app.xSpacing;this.ySpacing=app.ySpacing;this.reels=[];this.initialize()},b=c.prototype=Object.create(Phaser.Group.prototype);c.prototype.constructor=c;b.initialize=function(){void 0;for(var a=0;5>a;a++){var b=new app.ReelView(this.game,this);b.x=-(2*this.xSpacing)+a*this.xSpacing;b.y=-(1*this.ySpacing);this.reels.push(b);this.add(b)}};b.dimReelSymbols=function(){for(var a=0;5>a;a++)for(var b=0;5>b;b++)this.reels[a].reelSymbols[b].alpha=
0.3};b.undimReelSymbols=function(){for(var a=0;5>a;a++)for(var b=0;5>b;b++)this.reels[a].reelSymbols[b].alpha=1};app.ReelSetView=c;window.p=b})();(function(){var c=function(a,b){Phaser.Group.call(this,a,b);this.visible=!1;this.burstSprite2=this.create(0,0,"mainatlas","bigwinflare1");this.burstSprite2.anchor.set(0.5);this.burstSprite2.tint=16776960;this.burstSprite=this.create(0,0,"mainatlas","bigwinflare1");this.burstSprite.anchor.set(0.5);this.burstSprite.scale.set(1.3);this.mscale=0.1;this.bigwinMask=this.game.make.graphics(0,0);this.timer=this.game.time.create(!1);this.circleBitmap=a.make.bitmapData(1024,612);this.circleSprite=this.create(-512,
-306,this.circleBitmap);this.circleSprite.visible=!1;this.titleText=this.create(0,0,"mainatlas","bigwin");this.titleText.anchor.x=0.5;this.titleText.anchor.y=0.5},b=c.prototype=Object.create(Phaser.Group.prototype);c.prototype.constructor=c;b.growMask=function(){switch(this.fsm){case 1:this.burstSprite.angle+=3;this.burstSprite2.angle-=4;this.mscale+=0.2;this.bigwinMask.clear();this.bigwinMask.lineStyle(80,16777215,1);this.bigwinMask.drawCircle(512,440,200*this.mscale);!this.titleText.visible&&0<=
this.mscale&&this.startTwinkle();8<=this.mscale&&(this.burstSprite.mask=null,this.burstSprite.visible=!1,this.burstSprite2.visible=!1,this.circleSprite.visible=!0,this.circleBitmap.draw(this.burstSprite,512,306),this.mradius=0,this.fsm=2);break;case 2:this.circleBitmap.ctx.save();this.circleBitmap.ctx.beginPath();this.circleBitmap.ctx.arc(512,306,this.mradius,0,2*Math.PI,!0);this.circleBitmap.ctx.closePath();this.circleBitmap.ctx.clip();this.circleBitmap.ctx.clearRect(0,0,1024,612);this.circleBitmap.ctx.restore();
this.mradius+=20;if(500<this.mradius){this.circleSprite.visible=!1;if(this.onReady)this.onReady(this);this.fsm=3}break;case 3:this.fsm=4;var a=this.game.make.tween(this.titleText).to({alpha:0},500,Phaser.Easing.Linear.In,!1);a.onComplete.addOnce(function(){this.end()},this);a.start()}};b.start=function(a){this.end();this.bigwinMask.clear();this.burstSprite.mask=this.bigwinMask;this.burstSprite2.mask=this.bigwinMask;this.visible=!0;this.mscale=0;this.burstSprite.visible=!0;this.burstSprite2.visible=
!0;this.circleSprite.visible=!1;this.titleText.visible=!1;this.fsm=1;switch(a){case 1:this.titleText.frameName="bigwin";break;case 2:this.titleText.frameName="hugewin";break;case 3:this.titleText.frameName="megawin"}this.timer.loop(60,this.growMask,this);this.timer.start()};b.end=function(){this.visible=!1;this.timer.stop()};b.startTwinkle=function(){this.tscale=0.75;this.titleText.scale.x=this.tscale;this.titleText.scale.y=this.tscale;this.titleText.alpha=1;this.titleText.visible=!0};b.createTwinkle=
function(){};b.forEachPixel=function(a){a.r+=20;a.g+=20;a.b+=20;255<a.r&&(a.r=255);255<a.g&&(a.g=255);255<a.b&&(a.b=255);return a};b.onReady=function(){if(this.onReady)this.onReady()};app.BigwinView=c;window.p=b})();(function(){var c=function(a,b){Phaser.Group.call(this,a,b);var c;this.id=0;this.visible=!1;this.pulseDirection=this.xScale=this.fcount=0;this.runPlot=this.introComplete=!1;this.wildColumn=this.create(0,0,"mainatlas","hotreel");this.wildColumn.anchor.set(0.5,0.5);this.ySpacing=app.ySpacing;this.introTween=this.game.make.tween(this.wildColumn.scale).to({y:1},300,Phaser.Easing.Linear.None,!1).to({x:1},300,Phaser.Easing.Linear.None,!1);this.introTween.onComplete.add(function(){void 0;this.introComplete=
!0;this.startBigStars();if(this.onIntroComplete)this.onIntroComplete(this)},this);this.outroTween=this.game.make.tween(this).to({alpha:0},500,Phaser.Easing.Linear.None,!1);this.outroTween.onComplete.add(function(){void 0;this.runPlot=!1;if(this.onOutroComplete)this.onOutroComplete(this)},this);this.bigStars=[];for(c=0;15>c;c++){var d={};d.game=this.game;d.speed=0;d.sprite=this.game.make.sprite(0,0,"mainatlas","bigstar");d.sprite.x=0;d.sprite.y=100*c;d.sprite.anchor.setTo(0.5,0.5);this.add(d.sprite);
d.tween=this.game.make.tween(d.sprite).to({alpha:1},300,Phaser.Easing.Linear.In,!1).to({},2E3,Phaser.Easing.Linear.None,!1).to({alpha:0},300,Phaser.Easing.Linear.Out,!1);d.tween.onComplete.add(function(){this.game.time.events.add(this.game.rnd.integerInRange(100,800),function(){this.sprite.x=this.game.rnd.integerInRange(-50,50);this.sprite.y=-350;this.tween.start()},this)},d);this.bigStars.push(d)}this.reelSymbols=[];for(c=0;3>c;c++)d=new app.ReelSymbol(this.game,this,c,1,0,0-1*this.ySpacing+c*this.ySpacing),
this.reelSymbols.push(d);this.timer1=this.game.time.create(!1);this.timer1.loop(0.1,this.plot,this);this.timer1.start()},b=c.prototype=Object.create(Phaser.Group.prototype);c.prototype.constructor=c;b.plot=function(){if(this.runPlot){for(var a=60*(this.game.time.elapsed/1E3),b=0;b<this.bigStars.length;b++){var c=this.bigStars[b].sprite;c.angle+=3*a;c.y+=2*a*this.bigStars[b].speed}a=this.wildColumn.alpha;0<=this.pulseDirection?(a+=0.01,1<=a&&(a=1,this.pulseDirection=-1)):(a-=0.01,0.3>=a&&(a=0.3,this.pulseDirection=
1));this.wildColumn.alpha=a}};b.startIntro=function(){void 0;var a;for(a=0;3>a;a++)this.reelSymbols[a].alpha=1;this.alpha=1;this.visible=!0;this.fcount=0;this.xScale=0.1;this.pulseDirection=-1;this.introComplete=!1;this.wildColumn.scale.setTo(this.xScale,0.1);this.wildColumn.x=0;this.wildColumn.y=0;this.wildColumn.alpha=1;this.wildColumn.visible=!0;for(a=0;a<this.bigStars.length;a++)this.bigStars[a].sprite.x=0,this.bigStars[a].sprite.y=-400,this.bigStars[a].sprite.alpha=0;this.introTween.start()};
b.startBigStars=function(){for(var a=0,b=0;b<this.bigStars.length;b++)a+=this.game.rnd.integerInRange(200,500),this.game.time.events.add(a,function(a){this.bigStars[a].sprite.x=this.game.rnd.integerInRange(-50,50);this.bigStars[a].sprite.y=-400;this.bigStars[a].sprite.scale.setTo(0.5+2*this.game.rnd.frac());this.bigStars[a].speed=1+2*this.game.rnd.frac();this.bigStars[a].tween.start()},this,b);this.runPlot=!0};b.startOutro=function(){this.outroTween.start()};b.end=function(){this.visible=!1};app.WildColumnView=
c;window.p=b})();(function(){var c=function(a,b){Phaser.Group.call(this,a,b);this.xSpacing=app.xSpacing;this.ySpacing=app.ySpacing;this.lineWinIndex=0;var c;this.wildColumns=[];for(c=0;5>c;c++){var d=new app.WildColumnView(this.game,this);d.id=c+1;d.x=-(2*this.xSpacing)+c*this.xSpacing;d.visible=!1;this.add(d);this.wildColumns.push(d)}this.symbols=[];for(c=0;5>c;c++)d=new app.ReelSymbol(this.game,this,c,5,0-2*this.xSpacing+c*this.xSpacing,0),d.visible=!1,this.symbols.push(d),this.add(d);this.winSymbols=[];var e=0;
for(c=0;5>c;c++){for(var f=[],l=0;3>l;l++)d=new app.ReelSymbol(this.game,this,e++,5,0-2*this.xSpacing+c*this.xSpacing,0-1*this.ySpacing+l*this.ySpacing),d.visible=!1,f.push(d),this.add(d);this.winSymbols.push(f)}this.flareGroup=this.game.make.group();this.add(this.flareGroup);this.winText=this.game.make.bitmapText(0,0,"numberfont","0",45);this.winText.anchor.set(0.5,0.5);this.winText.visible=!1;this.add(this.winText);this.leftPortal=this.create(-72,-384,"mainatlas","portal");this.leftPortal.visible=
!1;this.rightPortal=this.create(72,-384,"mainatlas","portal");this.rightPortal.visible=!1},b=c.prototype=Object.create(Phaser.Group.prototype);c.prototype.constructor=c;b.createFlare=function(a,b,c){var d=new app.WinFlareView(this.game,this.flareGroup);d.scale.x=1.5;d.scale.y=1.5;d.x=a;d.y=b;a=0;switch(c){case 3:a=1;break;case 4:a=2;break;case 5:a=3;break;case 6:a=4;break;case 7:a=5;break;case 8:a=6;break;case 9:a=7}d.winFlare.frameName="flaresymbols-"+a;return d};app.WinVisualsView=c;window.p=b})();(function(){var c=function(a,b){Phaser.Group.call(this,a,b);this.bmd=this.game.make.bitmapData(744,500);this.bmdSprite=this.create(-372,-250,this.bmd);this.paylineElementSprite=this.game.make.sprite(0,0,"mainatlas","payline-element");this.paylineElementSprite.anchor.x=0.5;this.paylineElementSprite.anchor.y=0.5},b=c.prototype=Object.create(Phaser.Group.prototype);c.prototype.constructor=c;b.showPayline=function(a){this.createPayline(a)};b.hidePayline=function(){this.bmd.clear()};b.createPayline=function(a){this.bmd.clear();
for(var b=[0,0,0,0,0],c=[0,0,0,0,0],d=0;5>d;d++)b[d]=d*app.xSpacing,c[d]=app.paylineWayOffsets[a-1][d][1]*app.ySpacing;for(a=0;1>a;){var d=113+this.game.math.catmullRomInterpolation(b,a),e=113+this.game.math.catmullRomInterpolation(c,a);this.bmd.draw(this.paylineElementSprite,d,e,null,null,"lighter");a+=0.005}};app.WinLineView=c;window.p=b})();(function(){var c=function(a,b,c,d,e,f,l,m){Phaser.Image.call(this,a,b,c,d,0);this.anchor.setTo(0.5,0.5);this.pressableFrame=e;this.pressedFrame=f;this.unpressableFrame=l;this.hoverFrame=m||-1;this.events.onInputDown.add(this.onInputDown,this);this.events.onInputUp.add(this.onInputUp,this);this.events.onInputOver.add(this.onInputOver,this);this.events.onInputOut.add(this.onInputOut,this);this.disable()},b=c.prototype=Object.create(Phaser.Image.prototype);c.prototype.constructor=c;b.onInputOver=function(){this.inputEnabled&&
(0<=this.hoverFrame?this.frame=this.hoverFrame:this.alpha=0.8)};b.onInputDown=function(){this.inputEnabled&&(this.alpha=1,this.frame=this.pressedFrame)};b.onInputUp=function(){if(this.inputEnabled&&(this.alpha=1,this.frame=this.unpressedFrame,this.onPressed))this.onPressed(this)};b.onInputOut=function(){this.alpha=1;this.frame=this.inputEnabled?this.unpressedFrame:this.unpressableFrame};b.disable=function(){this.inputEnabled=!1;this.frame=this.unpressableFrame};b.enable=function(){this.inputEnabled=
!0;this.frame=this.pressableFrame};b.onPressed=null;app.SimpleButton=c;window.p=b})();(function(){var c=function(a,b,c,d,e,f,l,m){Phaser.Sprite.call(this,a,b,c,d);this.anchor.setTo(0.5,0.5);this.pressableFrame=e;this.pressedFrame=f;this.unpressableFrame=l||null;this.hoverFrame=m||null;this.events.onInputDown.add(this.onInputDown,this);this.events.onInputUp.add(this.onInputUp,this);this.events.onInputOver.add(this.onInputOver,this);this.events.onInputOut.add(this.onInputOut,this);this.disable()},b=c.prototype=Object.create(Phaser.Sprite.prototype);c.prototype.constructor=c;b.onInputOver=
function(){this.inputEnabled&&(null!==this.hoverFrame?this.frameName=this.hoverFrame:this.alpha=0.8)};b.onInputDown=function(){this.inputEnabled&&(this.alpha=1,this.frameName=this.pressedFrame)};b.onInputUp=function(){if(this.inputEnabled&&(this.alpha=1,this.frameName=this.pressableFrame,this.onPressed))this.onPressed(this)};b.onInputOut=function(){this.alpha=1;this.frameName=this.inputEnabled?this.pressableFrame:this.unpressableFrame};b.disable=function(){this.inputEnabled=!1;this.unpressableFrame?
this.frameName=this.unpressableFrame:(this.frameName=this.pressableFrame,this.alpha=0.4)};b.enable=function(){this.inputEnabled=!0;this.frameName=this.pressableFrame;this.alpha=1};b.onPressed=null;app.SpriteButton=c;window.p=b})();(function(){var c=function(a,b,c,d,e,f,l,m){Phaser.Sprite.call(this,a,b,c,d);this.anchor.setTo(0.5,0.5);this.allOnFrame=m;this.sfxOnFrame=f;this.musicOnFrame=l;this.allOffFrame=e;this.events.onInputDown.add(this.onInputDown,this);this.events.onInputUp.add(this.onInputUp,this);this.events.onInputOut.add(this.onInputOut,this);this.state=0;this.setCurrentFrame();this.disable()},b=c.prototype=Object.create(Phaser.Sprite.prototype);c.prototype.constructor=c;b.setCurrentFrame=function(){void 0;switch(this.state){case 0:this.frameName=
this.allOffFrame;break;case 1:this.frameName=this.sfxOnFrame;break;case 2:this.frameName=this.musicOnFrame;break;case 3:this.frameName=this.allOnFrame}};b.onInputDown=function(){this.inputEnabled&&(this.alpha=1,this.scale.setTo(0.8))};b.onInputUp=function(){this.inputEnabled&&(this.alpha=1,this.scale.setTo(1),this.state+=1,4<=this.state&&(this.state=0),app.setAudioState(this.state),this.setCurrentFrame())};b.onInputOut=function(){this.alpha=1;this.scale.setTo(1)};b.disable=function(){this.inputEnabled=
!1;this.alpha=0.4};b.enable=function(){this.inputEnabled=!0;this.alpha=1};b.setAudioState=function(a,b){this.state=a?b?3:2:b?1:0;this.setCurrentFrame()};b.onPressed=null;app.SpeakerButton=c;window.p=b})();(function(){var c=function(a,b,c,d,e,f){Phaser.Group.call(this,a,b);this.id=c||0;this.ix=d||0;this.x=e||0;this.y=f||0;this.initialize()},b=c.prototype=Object.create(Phaser.Group.prototype);c.prototype.constructor=c;b.initialize=function(){this.symbol=this.game.add.group();this.symbol.reelSymbol=this.symbol.create(0,0,"mainatlas","reelsymbols-0");this.symbol.pivot.x=100;this.symbol.pivot.y=100;this.setIx(this.ix);this.add(this.symbol);this.wildSymbol=new app.WildSymbol(this.game,this,0,0,0,0);this.wildSymbol.visible=
!1;this.add(this.wildSymbol);this.twinkle=this.create(0,0,"mainatlas","twinkle");this.twinkle.pivot.x=32;this.twinkle.pivot.y=32;this.twinkle.x=25;this.twinkle.y=-30;this.twinkle.visible=!1};b.setIx=function(a){1>a&&void 0;this.ix=a;this.symbol.reelSymbol.frameName="reelsymbols-"+(this.ix-1)};b.transformIntoWild=function(){this.symbol.visible=!1;this.wildSymbol.visible=!0;this.tween=this.game.make.tween(this.wildSymbol.scale).to({x:1.5,y:1.5},280,Phaser.Easing.Quadratic.Out,!1).to({x:1,y:1},280,Phaser.Easing.Quadratic.In,
!1);this.tween.onComplete.addOnce(function(){this.setIx(1);this.symbol.visible=!0;this.wildSymbol.visible=!1},this);this.tween.start()};b.lighten=function(){};b.startTwinkle=function(){this.twinkle.scale.x=0;this.twinkle.scale.y=0;this.twinkle.visible=!0;this.game.make.tween(this.twinkle).to({angle:300},1400,Phaser.Easing.Linear.Out,!0);this.game.make.tween(this.twinkle.scale).to({x:2,y:2},700,Phaser.Easing.Quadratic.Out,!1).to({x:0,y:0},700,Phaser.Easing.Quadratic.In,!0).onComplete.addOnce(function(){this.twinkle.visible=
!1},this)};app.ReelSymbol=c;window.p=b})();(function(){var c=function(a,b,c,d,e,f){Phaser.Group.call(this,a,b);this.id=c||0;this.ix=d||0;this.x=e||0;this.y=f||0;this.layer0=this.create(0,0,"mainatlas","rs_wild0");this.layer0.pivot.x=100;this.layer0.pivot.y=100;this.layer1=this.create(0,0,"mainatlas","rs_wild1");this.layer1.pivot.x=100;this.layer1.pivot.y=100;this.layer2=this.create(0,0,"mainatlas","rs_wild2");this.layer2.pivot.x=100;this.layer2.pivot.y=100},b=c.prototype=Object.create(Phaser.Group.prototype);c.prototype.constructor=c;b.update=
function(){this.layer0.rotation-=0.08;this.layer1.rotation+=0.08};b.transformIntoWild=function(){};app.WildSymbol=c;window.p=b})();(function(){var c=function(a,b){Phaser.Group.call(this,a,b);this.winFlare=this.create(0,0,"mainatlas");this.winFlare.pivot.x=128;this.winFlare.pivot.y=128;this.winFlare.blendMode=PIXI.blendModes.ADD},b=c.prototype=Object.create(Phaser.Group.prototype);c.prototype.constructor=c;app.WinFlareView=c;window.p=b})();(function(){var c=function(a,b){Phaser.Group.call(this,a,b);this.panel=this.game.make.image(-359,-239,"mainatlas","popuppanel");this.add(this.panel);this.headerStyle={font:"40px arial",fill:"#ffffff",fontWeight:"bold",align:"center"};this.bodyStyle={font:"20px arial",fill:"#ffffff",fontWeight:"bold",align:"center"};this.errorHeaderStyle={font:"40px arial",fill:"#ff0000",fontWeight:"bold",align:"center"};this.autoplayOptions=elements.autoplaySettings.settings;var c=this.game.make.graphics(0,0);c.beginFill(0,
1);c.drawRect(220,270,590,340);c.endFill();this.scrollGroup=this.game.make.group();this.scrollGroup.mask=c;this.add(this.scrollGroup);this.autoplayButtons=[];for(var c=-110,d=0;d<this.autoplayOptions.length;d++){var e=this.autoplayOptions[d],f=this.game.make.group();f.nparent=this;f.y=c;f.settings={};f.settings.id=e.id;f.settings.type=e.type;f.settings.valueType=e.valueType;f.settings.values=e.values.slice(0);f.settings.currentIndex=e.defaultIndex;f.originalSettings={};var l;"checkbox"===e.type?(l=
this.game.make.image(0,0,"mainatlas","autoplaypanel2"),l.anchor.set(0.5,0.5),f.add(l),l=this.game.make.image(0,0,"mainatlas","autoplaytick"),l.anchor.set(0.5,0.5),f.tickImage=f.add(l),l=this.game.make.image(0,0,"mainatlas","autoplaycross"),l.anchor.set(0.5,0.5),f.crossImage=f.add(l)):"select"===e.type&&(l=this.game.make.image(0,0,"mainatlas","autoplaypanel"),l.anchor.set(0.5,0.5),l.inputEnabled=!0,l.events.onInputDown.add(this.selectButtonPressed,f),f.add(l),l=new Phaser.Text(this.game,0,2,"",this.headerStyle),
l.anchor.set(0.5,0.5),f.valueText=f.add(l));l=this.createStyle(this.bodyStyle);e=app.createPhaserTextFromElement(this.game,0,48,e.label,l);f.add(e);e=new app.SpriteButton(this.game,0,0,"mainatlas","leftarrowbutton-0","leftarrowbutton-1");e.anchor.set(0.5,0.5);e.x=-240;e.onPressed=app.util.bind(f,this.leftButtonPressed);f.leftButton=f.add(e);e=new app.SpriteButton(this.game,0,0,"mainatlas","rightarrowbutton-0","rightarrowbutton-1");e.anchor.set(0.5,0.5);e.x=240;e.onPressed=app.util.bind(f,this.rightButtonPressed);
f.rightButton=f.add(e);this.scrollGroup.add(f);this.autoplayButtons.push(f);c+=110}this.maxY=c;this.titleText=app.createPhaserTextFromElement(this.game,0,-195,elements.autoplaySettings.headerString,this.headerStyle);this.add(this.titleText);this.cancelButton=new app.SpriteButton(this.game,0,0,"mainatlas","cancelbutton-0","cancelbutton-1");this.cancelButton.x=315;this.cancelButton.y=-195;this.cancelButton.onPressed=app.util.bind(this,this.cancelButtonPressed);this.add(this.cancelButton);this.upButton=
new app.SpriteButton(this.game,0,0,"mainatlas","uparrowbutton-0","uparrowbutton-1");this.upButton.x=-315;this.upButton.y=-195;this.upButton.onPressed=app.util.bind(this,this.upButtonPressed);this.add(this.upButton);this.downButton=new app.SpriteButton(this.game,0,0,"mainatlas","downarrowbutton-0","downarrowbutton-1");this.downButton.x=-315;this.downButton.y=195;this.downButton.onPressed=app.util.bind(this,this.downButtonPressed);this.add(this.downButton);for(d=0;d<this.autoplayButtons.length;d++)this.autoplayButtons[d].originalSettings.currentIndex=
this.autoplayButtons[d].settings.currentIndex;this.updateButtons();this.visible=!1},b=c.prototype=Object.create(Phaser.Group.prototype);c.prototype.constructor=c;b.createStyle=function(a){return{font:a.font,fill:a.fill,fontWeight:a.fontWeight,align:a.center}};b.autoplayButtonPressed=function(a){void 0;if(this.onComplete)this.onComplete(this.autoButtonOptions[a.buttonId].spins)};b.show=function(){for(var a=this.scrollGroup.y=0;a<this.autoplayButtons.length;a++)this.autoplayButtons[a].settings.currentIndex=
this.autoplayButtons[a].originalSettings.currentIndex;this.updateButtons();this.alpha=0;this.visible=!0;this.game.make.tween(this).to({alpha:1},200,Phaser.Easing.Linear.In,!0)};b.hide=function(){var a=this.game.make.tween(this).to({alpha:0},200,Phaser.Easing.Linear.In,!1);a.onComplete.addOnce(function(){this.visible=!1},this);a.start()};b.updateButtons=function(){this.cancelButton.enable();app.baseState.gameView.hudView.spinButton.disable();this.upButton.disable();this.downButton.disable();330<=this.maxY?
(0>this.scrollGroup.y&&this.upButton.enable(),this.scrollGroup.y>-this.maxY&&this.downButton.enable()):(this.upButton.visible=!1,this.downButton.visible=!1);for(var a=!0,b=0;b<this.autoplayButtons.length;b++)this.showCurrentOptionValue(this.autoplayButtons[b]),null===this.autoplayButtons[b].settings.currentIndex&&(a=!1);a&&app.baseState.gameView.hudView.spinButton.enable()};b.cancelButtonPressed=function(){for(var a=0;a<this.autoplayButtons.length;a++)this.autoplayButtons[a].settings.currentIndex=
this.autoplayButtons[a].originalSettings.currentIndex;this.onComplete&&(app.baseState.gameView.hudView.spinButton.enable(),this.onComplete(null))};b.okButtonPressed=function(){if(this.onComplete){var a,b={spins:0,haltOnWin:!1};if(a=this.findSetting("numberOfRounds"))b.spins=a.values[a.currentIndex];if(a=this.findSetting("haltOnWin")){var c=a.values[a.currentIndex];isNaN(c)?"Yes"===c&&(b.haltOnWin=!0):b.haltOnWin=0<c}var d=this.findSetting("lossLimit");d&&(a=d.values[d.currentIndex],b.lossLimit=isNaN(a)?
"Unlimited"==a?Number.MAX_VALUE:0:"multiplier"===d.valueType?a*app.hudController.getTotalBet():a);if(d=this.findSetting("singleWinLimit"))a=d.values[d.currentIndex],b.singleWinLimit=isNaN(a)?"Any"===a?0.01:Number.MAX_VALUE:"multiplier"===d.valueType?a*app.hudController.getTotalBet():c;app.baseState.gameView.hudView.spinButton.enable();this.onComplete(b)}};b.findSetting=function(a){for(i=0;i<this.autoplayButtons.length;i++)if(this.autoplayButtons[i].settings.id===a)return this.autoplayButtons[i].settings};
b.showCurrentOptionValue=function(a){var b=a.settings.currentIndex,c="";a.leftButton.disable();a.rightButton.disable();"select"===a.settings.type?(null===b?(c=elements.autoplaySettings.selectString.value,a.valueText.style.fill="#FF0000",a.rightButton.enable()):(a.valueText.style.fill="#FFFFFF",null===a.settings.values[b]||"Unlimited"===a.settings.values[b]?c=elements.autoplaySettings.unlimitedString.value:null===a.settings.values[b]||"Any"===a.settings.values[b]?c=elements.autoplaySettings.anyString.value:
"multiplier"===a.settings.valueType&&!isNaN(a.settings.values[b])?(b=Number(a.settings.values[b])*app.hudController.getTotalBet(),c=app.locale.formatMoney(b)):c="money"===a.settings.valueType&&!isNaN(a.settings.values[b])?app.locale.formatMoney(a.settings.values[b]):a.settings.values[b].toString(),a.settings.currentIndex<a.settings.values.length-1&&a.rightButton.enable(),0<a.settings.currentIndex&&a.leftButton.enable()),a.valueText.setText(c)):"checkbox"===a.settings.type&&(b=a.settings.values[b],
isNaN(b)&&(b="Yes"===b?!0:!1),!0===b?(a.tickImage.visible=!0,a.crossImage.visible=!1):(a.tickImage.visible=!1,a.crossImage.visible=!0),a.settings.currentIndex<a.settings.values.length-1&&a.rightButton.enable(),0<a.settings.currentIndex&&a.leftButton.enable())};b.updateInfo=function(){for(var a=0;a<this.autoplayButtons.length;a++){var b=this.autoplayButtons[a];"multiplier"===b.settings.valueType&&this.showCurrentOptionValue(b)}};b.upButtonPressed=function(){void 0;this.upButton.disable();this.downButton.disable();
var a=this;0>this.scrollGroup.y&&this.game.make.tween(this.scrollGroup).to({y:"+330"},500,Phaser.Easing.Back.Out,!0).onComplete.add(function(){a.updateButtons()})};b.downButtonPressed=function(){void 0;this.upButton.disable();this.downButton.disable();var a=this;this.scrollGroup.y>-this.maxY&&this.game.make.tween(this.scrollGroup).to({y:"-330"},500,Phaser.Easing.Back.Out,!0).onComplete.add(function(){a.updateButtons()})};b.leftButtonPressed=function(){void 0;0<this.settings.currentIndex&&(this.settings.currentIndex--,
this.nparent.updateButtons())};b.rightButtonPressed=function(){void 0;null===this.settings.currentIndex?(this.settings.currentIndex=0,this.nparent.updateButtons()):this.settings.currentIndex<this.settings.values.length-1&&(this.settings.currentIndex++,this.nparent.updateButtons())};b.selectButtonPressed=function(){void 0;null===this.settings.currentIndex&&(this.settings.currentIndex=0,this.nparent.updateButtons())};b.panelPressed=function(){void 0;this.visible=!1};b.setPortrait=function(){void 0};
b.setLandscape=function(){void 0};b.onComplete=null;app.AutoplayView=c;window.p=b})();(function(){var c=function(a,b){Phaser.Group.call(this,a,b);this.infobar=this.create(-500,354,"mainatlas","infobar");this.lineBetBackgroundLandscape=this.create(436,-111,"mainatlas","vbetpanel");this.lineBetBackgroundLandscape.anchor.set(0.5,0.5);this.lineBetBackgroundLandscape.visible=!0;this.lineBetBackgroundPortrait=this.create(0,292,"mainatlas","hbetpanel");this.lineBetBackgroundPortrait.anchor.set(0.5,0.5);this.lineBetBackgroundPortrait.visible=!0;this.spinButton=new app.SpriteButton(this.game,
326,287,"mainatlas","spinbutton-0","spinbutton-1","spinbutton-2");this.add(this.spinButton);this.ffButton=new app.SpriteButton(this.game,326,287,"mainatlas","ffbutton-0","ffbutton-1","ffbutton-2");this.add(this.ffButton);this.autoSpinButton=new app.SpriteButton(this.game,-328,285,"mainatlas","autospinbutton-0","autospinbutton-1","autospinbutton-2");this.add(this.autoSpinButton);this.autoStopButton=new app.SpriteButton(this.game,-328,285,"mainatlas","autostopbutton-0","autostopbutton-1","autostopbutton-2");
this.add(this.autoStopButton);this.autoSpinsText=new Phaser.Text(this.game,-328,287,"100",{font:"28px arial",fill:"#2266aa",fontWeight:"bold",align:"center"});this.autoSpinsText.anchor.set(0.5,0.5);this.add(this.autoSpinsText);this.menuButton=new app.SpriteButton(this.game,-307,-291,"mainatlas","lobbybutton-0","lobbybutton-1","lobbybutton-2");this.add(this.menuButton);this.infoButton=new app.SpriteButton(this.game,309,-291,"mainatlas","infobutton-0","infobutton-1","infobutton-2");this.add(this.infoButton);
this.helpButton=new app.SpriteButton(this.game,0,0,"mainatlas","rulesbutton-0","rulesbutton-1","rulesbutton-2");this.add(this.helpButton);this.incBetButton=new app.SpriteButton(this.game,63,292,"mainatlas","plusbutton-0","plusbutton-1","plusbutton-2");this.add(this.incBetButton);this.decBetButton=new app.SpriteButton(this.game,-62,292,"mainatlas","minusbutton-0","minusbutton-1","minusbutton-2");this.add(this.decBetButton);this.miniChip=this.create(355,292,"mainatlas","minichip");this.miniChip.anchor.set(0.5,
0.5);this.totalWinPanel=this.create(0,240,"mainatlas","winpanel");this.totalWinPanel.anchor.set(0.5,0);this.emitter=this.game.make.emitter(0,280,20);this.add(this.emitter);this.emitter.makeParticles("mainatlas","twinkle");this.emitter.gravity=0;this.emitter.setAlpha(1,0.1,1200);this.totalWinText=this.game.make.bitmapText(0,270,"numberfont","",45);this.totalWinText.anchor.set(0.5,0.5);this.add(this.totalWinText);this.balanceText=new Phaser.Text(this.game,-340,372,"",{font:"20px arial",fill:"#ffffff",
align:"left"});this.balanceText.anchor.set(0,0.5);this.add(this.balanceText);this.totalBetText=new Phaser.Text(this.game,220,372,"",{font:"20px Arial",fill:"#ffffff",align:"left"});this.totalBetText.anchor.set(0,0.5);this.add(this.totalBetText);this.clockText=new Phaser.Text(this.game,-475,-280,"",{font:"20px Arial",fill:"#ffffff",align:"left"});this.clockText.anchor.set(0.5,0.5);this.add(this.clockText);this.updateClockText(new Date);this.speakerButton=new app.SpeakerButton(this.game,0,0,"mainatlas",
"speaker-0","speaker-1","speaker-2","speaker-3");this.add(this.speakerButton)},b=c.prototype=Object.create(Phaser.Group.prototype);c.prototype.constructor=c;b.setPortrait=function(){void 0;this.spinButton.x=315;this.spinButton.y=310;this.spinButton.scale.setTo(1.3,1.3);this.ffButton.x=315;this.ffButton.y=310;this.ffButton.scale.setTo(1.3,1.3);this.autoSpinButton.x=-315;this.autoSpinButton.y=310;this.autoSpinButton.scale.setTo(1.3,1.3);this.autoStopButton.x=-315;this.autoStopButton.y=310;this.autoStopButton.scale.setTo(1.3,
1.3);this.autoSpinsText.x=-315;this.autoSpinsText.y=310;this.lineBetBackgroundPortrait.visible=!0;this.lineBetBackgroundPortrait.scale.setTo(1.3,1.3);this.lineBetBackgroundLandscape.visible=!1;this.infoButton.x=-307;this.infoButton.y=-291;this.menuButton.x=309;this.menuButton.y=-291;this.incBetButton.x=83;this.incBetButton.y=292;this.incBetButton.scale.setTo(1.3,1.3);this.decBetButton.x=-82;this.decBetButton.y=292;this.decBetButton.scale.setTo(1.3,1.3);this.infobar.y=394;this.balanceText.y=this.infobar.y+
18;this.totalBetText.y=this.infobar.y+18;this.miniChip.y=this.infobar.y+2+13;this.totalWinPanel.y=345;this.totalWinText.y=380;this.emitter.y=385;this.clockText.x=-305;this.clockText.y=-380;this.speakerButton.x=309;this.speakerButton.y=-380;this.helpButton.x=-370;this.helpButton.y=this.infobar.y+16};b.setLandscape=function(){void 0;this.spinButton.x=436;this.spinButton.y=154;this.spinButton.scale.setTo(1,1);this.ffButton.x=436;this.ffButton.y=154;this.ffButton.scale.setTo(1,1);this.autoSpinButton.x=
-436;this.autoSpinButton.y=154;this.autoSpinButton.scale.setTo(1,1);this.autoStopButton.x=-436;this.autoStopButton.y=154;this.autoStopButton.scale.setTo(1,1);this.autoSpinsText.x=-436;this.autoSpinsText.y=156;this.lineBetBackgroundPortrait.visible=!1;this.lineBetBackgroundPortrait.scale.setTo(1,1);this.lineBetBackgroundLandscape.visible=!0;this.infoButton.x=-435;this.infoButton.y=-173;this.menuButton.x=-435;this.menuButton.y=-48;this.incBetButton.x=436;this.incBetButton.y=-173;this.incBetButton.scale.setTo(1,
1);this.decBetButton.x=436;this.decBetButton.y=-47;this.decBetButton.scale.setTo(1,1);this.infobar.y=290;this.balanceText.y=this.infobar.y+18;this.totalBetText.y=this.infobar.y+18;this.miniChip.y=this.infobar.y+2+13;this.totalWinPanel.y=241;this.totalWinText.y=275;this.emitter.y=281;this.clockText.x=-435;this.clockText.y=-280;this.speakerButton.x=436;this.speakerButton.y=-280;this.helpButton.x=-370;this.helpButton.y=this.infobar.y+16};b.updateClockText=function(a){void 0;this.clockText.setText(a.toLocaleTimeString([],
{hour:"2-digit",minute:"2-digit"}))};app.HudView=c;window.p=b})();(function(){var c=function(a,b){void 0;Phaser.Group.call(this,a,b);var c={font:"bold 16px arial",fill:"#FFFFFF",align:"center"},d=this.game.width/2,e=this.game.height/2-50;this.panel=this.game.add.group();this.panelSprite=this.panel.create(d-359,e-239,"mainatlas","popuppanel");this.panel.create(d-128,e-99-130,"mainatlas","logo");var f=d-200,l=e;this.panel.create(f-100,l-100,"mainatlas","reelsymbols-0");this.wildText=new Phaser.Text(this.game,f,l+120,elements.menuScreen.wildDescriptionString.value,
c);this.wildText.lineSpacing=-5;this.wildText.anchor.set(0.5,0.5);this.panel.add(this.wildText);f=d+200;l=e;this.panel.create(f-88.5,l-15.5,"mainatlas","payways");this.paywaysText=new Phaser.Text(this.game,f,l+80,elements.menuScreen.paywaysDescriptionString.value,c);this.paywaysText.lineSpacing=-5;this.paywaysText.anchor.set(0.5,0.5);this.panel.add(this.paywaysText);this.tapToStartText=new Phaser.Text(this.game,d,e+200,elements.menuScreen.clickToPlayString.value,{font:"bold 20px arial",fill:"#FFFFFF",
align:"center"});this.tapToStartText.anchor.set(0.5,0.5);this.panel.add(this.tapToStartText);this.panelSprite.inputEnabled=!0;this.panelSprite.events.onInputDown.add(this.onDown,this)},b=c.prototype=Object.create(Phaser.Group.prototype);c.prototype.constructor=c;b.onDown=function(){void 0;this.panel.visible&&(this.panel.visible=!1,app.controller.presentGame())};b.onComplete=null;app.MenuView=c;window.p=b})();(function(){var c=function(a,b){this.game=a;this.gameView=b;this.gameView.bigwinView.onReady=app.util.bind(this,this.bigwinView_onReady);this.endCurrentVisualCode=this.lastMul=0},b=c.prototype={};c.prototype.constructor=c;b.checkForBigWin=function(a){if(a>=app.settings.megaMul){if(this.lastMul<app.settings.megaWinMul)return 3}else if(a>=app.settings.hugeWinMul){if(this.lastMul<app.settings.hugeWinMul)return 2}else if(a>=app.settings.bigWinMul&&this.lastMul<app.settings.bigWinMul)return 1;return 0};
b.start=function(a){void 0;this.endCurrentVisualCode=this.checkForBigWin(a);0<this.endCurrentVisualCode&&(this.game.soundController.wildMusic.isPlaying||this.game.soundController.wildMusic.play(),this.game.soundController.bigwinIntroSound.play(),this.gameView.bigwinView.visible=!0,this.gameView.bigwinView.start(this.endCurrentVisualCode),this.lastMul=a);return this.endCurrentVisualCode};b.end=function(){void 0;this.lastMul=0;this.gameView.bigwinView.end()};b.endCurrentVisual=function(){void 0;this.gameView.bigwinView.end()};
b.bigwinView_onReady=function(){void 0;if(this.onReady)this.onReady()};app.BigwinController=c;window.p=b})();(function(){var c=function(a,b){this.game=a;this.gameView=b;this.hudView=this.gameView.hudView;this.infoView=this.gameView.infoView;this.autoplayView=this.gameView.autoplayView;this.lineOptions=app.model.lineOptions||[];for(var c=this.numLines=0;c<app.model.state.betLines.length;c++)0<app.model.state.betLines[c]&&this.numLines++;this.betOptions=app.model.betOptions||[0];this.betIndex=this.getBetIndex(app.model.state.lineBet);this.unpaid=0;this.hudView.totalWinText.setText(" ");this.hudView.totalWinPanel.visible=
!1;this.hudView.spinButton.onPressed=app.util.bind(this,this.onSpinButton);this.hudView.ffButton.onPressed=app.util.bind(this,this.onFastForwardButton);this.hudView.incBetButton.onPressed=app.util.bind(this,this.onIncBetButton);this.hudView.decBetButton.onPressed=app.util.bind(this,this.onDecBetButton);this.hudView.infoButton.onPressed=app.util.bind(this,this.onInfoButton);this.hudView.helpButton.onPressed=app.util.bind(this,this.onHelpButton);this.hudView.menuButton.onPressed=app.util.bind(this,
this.onMenuButton);this.hudView.autoSpinButton.onPressed=app.util.bind(this,this.onAutoSpinButton);this.hudView.autoStopButton.onPressed=app.util.bind(this,this.onAutoStopButton);this.autoplayView.onComplete=app.util.bind(this,this.onAutoplayConfigurationComplete);this.infoView.onComplete=app.util.bind(this,this.infoView_onComplete);this.totalBetChangedTween=this.game.add.tween(this.hudView.miniChip.scale).to({x:1.5,y:1.5},200,Phaser.Easing.Linear.In,!1).to({x:1,y:1},200,Phaser.Easing.Linear.In,!1);
this.hudView.spinButton.visible=!0;this.hudView.ffButton.visible=!1;this.unsetAutoSpin();this.disableAllButtons();this.hudView.speakerButton.enable();setInterval(app.util.bind(this,function(){this.hudView.updateClockText(new Date)}),5E4)},b=c.prototype={};c.prototype.constructor=c;b.getBalance=function(){return app.model.state.balance-this.unpaid};b.drawBalance=function(){this.hudView.balanceText.setText(elements.infoBar.balanceString.value+app.locale.formatMoney(this.getBalance()))};b.draw=function(){this.drawBalance();
this.drawBet()};b.getBetIndex=function(a){var b=0;for(i=0;i<this.betOptions.length;i++)if(a===this.betOptions[i]){b=i;break}return b};b.disableAllButtons=function(){this.hudView.menuButton.disable();this.hudView.spinButton.disable();this.hudView.incBetButton.disable();this.hudView.decBetButton.disable();this.hudView.infoButton.disable();this.hudView.helpButton.disable();this.hudView.autoSpinButton.disable()};b.handleBetChanged=function(){void 0;this.hudView.totalWinText.setText(" ");this.hudView.totalWinPanel.visible=
!1;if(this.onBetChanged)this.onBetChanged(this)};b.placeYourBets=function(){void 0;this.unpaid=0;app.model.promotion.enabled?(this.setTotalBet(app.model.promotion.totalBet),this.draw(),app.model.autoplay?0===app.model.autoplay.spins&&(this.unsetAutoSpin(),delete app.model.autoplay,this.raiseAutoSpinsComplete()):this.unsetAutoSpin(),this.hudView.menuButton.enable(),this.hudView.spinButton.enable(),this.hudView.incBetButton.disable(),this.hudView.decBetButton.disable()):(this.draw(),app.model.autoplay?
0===app.model.autoplay.spins&&(this.unsetAutoSpin(),delete app.model.autoplay,this.raiseAutoSpinsComplete()):this.unsetAutoSpin(),this.hudView.menuButton.enable(),this.hudView.spinButton.enable(),this.hudView.incBetButton.enable(),this.hudView.decBetButton.enable());this.hudView.infoButton.enable();this.hudView.helpButton.enable();this.hudView.autoSpinButton.enable();this.hudView.speakerButton.enable();this.hudView.spinButton.visible=!0;this.hudView.ffButton.visible=!1};b.noMoreBets=function(){void 0;
this.hudView.menuButton.disable();this.hudView.spinButton.disable();this.hudView.incBetButton.disable();this.hudView.decBetButton.disable();this.hudView.infoButton.disable();this.hudView.helpButton.disable();this.hudView.autoSpinButton.disable()};b.betAccepted=function(){void 0;this.unpaid=app.model.state.totalWin;this.drawBalance();var a=this.game.add.tween(this.hudView.totalWinText).to({alpha:0},600,Phaser.Easing.Linear.In,!1);a.onComplete.addOnce(function(){this.hudView.totalWinText.setText(" ");
this.hudView.totalWinText.alpha=1;var a=this.game.add.tween(this.hudView.totalWinPanel).to({alpha:0},300,Phaser.Easing.Linear.In,!1);a.onComplete.addOnce(function(){this.hudView.totalWinPanel.visible=!1;this.hudView.totalWinPanel.alpha=1},this);a.start()},this);a.start()};b.setTotalWinText=function(){};b.setAutoSpin=function(){this.hudView.autoSpinsText.setText(app.model.autoplay.spins.toString());this.hudView.autoSpinButton.visible=!1;this.hudView.autoStopButton.visible=!0;this.hudView.autoStopButton.enable();
this.hudView.autoSpinsText.visible=!0};b.unsetAutoSpin=function(){this.hudView.autoStopButton.disable();this.hudView.autoSpinButton.visible=!0;this.hudView.autoStopButton.visible=!1;this.hudView.autoSpinsText.visible=!1};b.updateAutoSpin=function(){this.hudView.autoSpinsText.setText(app.model.autoplay.spins.toString())};b.onSpinButton=function(){void 0;if(!0==this.autoplayView.visible)this.autoplayView.okButtonPressed();else if(this.setInfoViewVisibility(!1),this.setAutoplayViewVisibility(!1),this.onSpinButtonPressed)this.onSpinButtonPressed(this)};
b.onFastForwardButton=function(){void 0;this.hudView.ffButton.visible=!1;this.hudView.spinButton.visible=!0;if(this.onFastForwardButtonPressed)this.onFastForwardButtonPressed(this)};b.onIncBetButton=function(a){this.betIndex<this.betOptions.length-1&&(this.totalBetChangedTween.start(),this.game.soundController.incSound.play(),this.betIndex++,this.drawBet());a.enable();this.handleBetChanged()};b.onDecBetButton=function(a){0<this.betIndex&&(this.totalBetChangedTween.start(),this.game.soundController.decSound.play(),
this.betIndex--,this.drawBet());a.enable();this.handleBetChanged()};b.drawBet=function(){this.hudView.totalBetText.setText(elements.infoBar.totalBetString.value+app.locale.formatMoney(this.getTotalBet()));this.hudView.totalBetText.updateText();this.hudView.totalBetText.x=335-this.hudView.totalBetText.width};b.getBetLines=function(){for(var a=[],b=0;b<this.lineOptions.length;b++)b<this.numLines?a.push(1):a.push(0);return a};b.getBet=function(){return this.betOptions[this.betIndex]};b.getTotalBet=function(){return this.numLines*
this.getBet()};b.setTotalBet=function(a){void 0;a/=this.numLines;for(var b=-1,c=0;c<this.betOptions.length;c++)if(this.betOptions[c]===a){b=c;break}0<=b&&b!==this.betIndex&&(this.betIndex=b,this.totalBetChangedTween.start(),this.drawBet(),this.handleBetChanged())};b.showLastWin=function(){void 0;this.disableFastForward()};b.onInfoButton=function(){void 0;this.setAutoplayViewVisibility(!1);this.setInfoViewVisibility(!0)};b.onHelpButton=function(){void 0;this.setAutoplayViewVisibility(!1);this.setHelpViewVisibility(!0)};
b.onMenuButton=function(a){void 0;a.enable();if(this.onMenuButtonPressed)this.onMenuButtonPressed(this)};b.onAutoSpinButton=function(){void 0;if(this.onAutoSpinSettingsRequested)this.onAutoSpinSettingsRequested()};b.openCustomAutoSpinSettings=function(){this.setInfoViewVisibility(!1);this.setAutoplayViewVisibility(!0)};b.onAutoStopButton=function(){void 0;if(this.onAutoStopButtonPressed)this.onAutoStopButtonPressed(this)};b.onAutoplayConfigurationComplete=function(a){void 0;if(this.onCustomAutoSpinsSettingsClosed)this.onCustomAutoSpinsSettingsClosed(a)};
b.startAutoplay=function(){void 0;this.setAutoplayViewVisibility(!1);if(app.model.autoplay)if(0<app.model.autoplay.spins&&this.onAutoSpinButtonPressed)this.onAutoSpinButtonPressed(this);else this.placeYourBets()};b.infoView_onComplete=function(){void 0;this.setInfoViewVisibility(!1);this.placeYourBets()};b.getReelSymbolWinForCurrentBet=function(a,b){return 3!==b||0>=a?0:app.prialWinPlan[a]*this.getBet()};b.enableFastForward=function(a){this.hudView.spinButton.visible=!1;this.hudView.ffButton.enable();
this.hudView.ffButton.visible=!0;this.onFastForwardButtonPressed=a};b.disableFastForward=function(){this.onFastForwardButtonPressed=null;this.hudView.ffButton.visible=!1;this.hudView.ffButton.disable();this.hudView.spinButton.visible=!0};b.setInfoViewVisibility=function(a){a?this.infoView.show(this):this.infoView.hide();if(this.onInfoViewVisibilityChanged)this.onInfoViewVisibilityChanged(this.infoView.visible)};b.setHelpViewVisibility=function(a){document.getElementById("app-help").style.visibility=
a?"visible":"hidden"};b.setAutoplayViewVisibility=function(a){a?(app.baseState.gameView.hudView.spinButton.disable(),this.autoplayView.show()):(this.autoplayView.hide(),app.baseState.gameView.hudView.spinButton.enable());if(this.onAutoplayViewVisibilityChanged)this.onAutoplayViewVisibilityChanged(this.autoplayView.visible)};b.setMenuButtonVisibility=function(a){this.hudView.menuButton.visible=a};b.setSpeakerButtonVisibility=function(a){this.hudView.speakerButton.visible=a};b.raiseAutoSpinsComplete=
function(){if(this.onAutoSpinsComplete)this.onAutoSpinsComplete()};b.showAudioState=function(a,b){this.hudView.speakerButton.setAudioState(a,b)};b.onMenuButtonPressed=null;b.onSpinButtonPressed=null;b.onAutoSpinButtonPressed=null;b.onAutoStopButtonPressed=null;b.onFastForwardButtonPressed=null;b.onBetChanged=null;b.onInfoViewVisibilityChanged=null;b.onAutoplayViewVisibilityChanged=null;b.onAutoSpinSettingsRequested=null;b.onAutoSpinsComplete=null;b.onCustomAutoSpinsSettingsClosed=null;app.HudController=
c;window.p=b})();(function(){var c=function(a,b,c,d){this.game=a;this.reelView=b;this.id=c;this.strip=d;this.lstrip=[2,3,4,5,6,7,8,9,1,2,3,4,5,6,7,8,9];this.rstrip=[9,8,7,6,5];this.lpos=0;this.movement={};this.movement.y=0;this.movement._y=0;this.movement.speed=0;this.movement.stop=0;this.runSpeed=40;this.stopping=this._stop=!1;this.ramp=this.pos=0;this.stopTweenComplete=this.stopped=this._update=this.canbestopped=!1;this.xspacing=app.xSpacing;this.yspacing=app.ySpacing;this.symbolsInView=[];for(a=0;5>a;a++)this.reelView.reelSymbols[a].setIx(d[a]),
this.rstrip[a]=d[a],this.symbolsInView[a]=this.reelView.reelSymbols[a];this.fpos=this.yoffset=0},b=c.prototype={};c.prototype.constructor=c;b.getNextLocalSym=function(){var a=this.lstrip[this.lpos++];this.lpos>=this.lstrip.length&&(this.lpos=0);return a};b.getNextFinalSym=function(){return this.strip[4-this.fpos++]};b.update=function(){if(this._update){var a=0;this.stopping?(a=this.movement.y-this.movement._y,this.movement._y=this.movement.y):a=this.movement.speed*60*(this.game.time.elapsed/1E3);
this.yoffset+=a;for(a=0;this.yoffset>this.yspacing;)a+=1,this.yoffset-=this.yspacing;for(;0<a;)this.rstrip.pop(),this.stopping?5<this.ramp?(this.rstrip.unshift(this.getNextLocalSym()),this.ramp--):(this.rstrip.unshift(this.getNextFinalSym()),0<this.ramp&&(this.reelView.reelSymbols[5-this.ramp--].alpha=1)):(this.rstrip.unshift(this.getNextLocalSym()+9),5>this.ramp&&(this.reelView.reelSymbols[this.ramp++].alpha=0.4)),a--;for(var a=-this.yspacing+this.yoffset,b=0;5>b;b++){var c=this.reelView.reelSymbols[b];
c.setIx(this.rstrip[b]);c.y=a;a+=this.yspacing}if(this.stopping)!this.stopped&&this.stopTweenComplete&&(this.symbolsInView[0].visible=!1,this.symbolsInView[4].visible=!1,this.stopped=!0,this._update=!1);else if(this.canbestopped&&this._stop){this.stopping=!0;this.movement.speed=0;this.movement.y=0;this.movement._y=0;if(this.onStopping)this.onStopping(this);this.ramp=5;a=this.ramp*this.yspacing-this.yoffset;a=this.game.add.tween(this.movement).to({y:a},800,Phaser.Easing.Back.Out,!1);a.onComplete.add(function(){this.stopTweenComplete=
!0},this);this.stopTweenComplete=!1;a.start()}}};b.checkStopped=function(){if(!this._update&&this.stopped&&(this.stopped=!1,this.onStopped))this.onStopped(this)};b.spin=function(){var a=this;this.movement.y=0;this.movement._y=0;this.movement.speed=0;this.stopping=this._stop=this.stopped=!1;this.spindis=0;this.canbestopped=!1;this.wildAt=-1;this._update=!0;for(var b=this.ramp=this.fpos=0;5>b;b++)this.reelView.reelSymbols[b].visible=!0;b=this.game.add.tween(this.movement).to({speed:this.runSpeed},600,
Phaser.Easing.Back.In,!1);b.onComplete.add(function(){a.movement.speed=a.runSpeed;a.canbestopped=!0});b.start()};b.stop=function(a,b){this.ramp=0;this.strip=b.rsym;this.wildAt=b.wildAt||-1;this._stop=!0};b.undimSymbols=function(){for(var a=0;5>a;a++)this.reelView.reelSymbols[a].alpha=1};b.transformIntoWild=function(a){this.rstrip[a]=1;this.symbolsInView[a].transformIntoWild()};app.ReelController=c;window.p=b})();(function(){var c=function(a,b){this.game=a;this.gameView=b;this.reelsCanBeStopped=!1;this.reelsReadyBits=0;this.reelControllers=[];for(var c=0;5>c;c++){var d=new app.ReelController(this.game,this.gameView.reelSet.reels[c],c+1,app.model.state.rsym[c]);d.onStopping=app.util.bind(this,this.reelOnStopping);d.onStopped=app.util.bind(this,this.reelOnStopped);this.reelControllers.push(d)}this.winVisualsController=new app.WinVisualsController(this.game,this.gameView);this.winVisualsController.onComplete=
app.util.bind(this,this.onWinVisualsComplete);for(c=0;5>c;c++)this.gameView.winVisuals.wildColumns[c].onIntroComplete=app.util.bind(this,this.wildColumn_onIntroComplete)},b=c.prototype={};c.prototype.constructor=c;b.update=function(){if(this.reelsEnabled){for(var a=0;5>a;a++)this.reelControllers[a].update();for(a=0;5>a;a++)this.reelControllers[a].checkStopped()}};b.transformIntoWild=function(a){void 0;a.reelController.transformIntoWild(a.pos)};b.startWildColumnIntro=function(a){this.gameView.winVisuals.wildColumns[a-
1].startIntro()};b.wildColumn_onIntroComplete=function(a){void 0;this.setReelReady(a.id-1)};b.reelOnStopping=function(a){void 0;0<a.wildAt?(void 0,this.game.soundController.wildIntroSound.play(),1===a.wildAt?(this.game.time.events.add(400,this.transformIntoWild,this,{reelController:a,pos:1}),this.game.time.events.add(650,this.transformIntoWild,this,{reelController:a,pos:2}),this.game.time.events.add(900,this.transformIntoWild,this,{reelController:a,pos:3}),this.game.time.events.add(1150,this.startWildColumnIntro,
this,a.id)):2===a.wildAt?(this.game.time.events.add(400,this.transformIntoWild,this,{reelController:a,pos:2}),this.game.time.events.add(650,this.transformIntoWild,this,{reelController:a,pos:1}),this.game.time.events.add(900,this.transformIntoWild,this,{reelController:a,pos:3}),this.game.time.events.add(1150,this.startWildColumnIntro,this,a.id)):3===a.wildAt&&(this.game.time.events.add(400,this.transformIntoWild,this,{reelController:a,pos:3}),this.game.time.events.add(650,this.transformIntoWild,this,
{reelController:a,pos:2}),this.game.time.events.add(900,this.transformIntoWild,this,{reelController:a,pos:1}),this.game.time.events.add(1150,this.startWildColumnIntro,this,a.id))):this.game.soundController.reelStopSound.play()};b.reelOnStopped=function(a){void 0;0>a.wildAt&&this.setReelReady(a.id-1)};b.setReelReady=function(a){void 0;this.reelsReadyBits|=1<<a;void 0;31===this.reelsReadyBits&&(this.reelsEnabled=!1,this.game.forceSingleUpdate=app.settings.forceSingleUpdate,this.game.soundController.wildSpinSound.stop(),
app.hudController.disableFastForward(),this.winVisualsController.start(app.model.reelOutcome))};b.checkForStop=function(){this.reelsCanBeStopped?this.stopReels():this.game.time.events.add(100,this.checkForStop,this)};b.kickReel=function(a){app.model.state.holdBits&1<<a||(this.reelControllers[a].undimSymbols(),this.reelControllers[a].spin())};b.stopReel=function(a){void 0;if(!this.reelControllers[a].stopping){var b={},c=app.model.reelOutcome;b.rsym=c.isym[a];if(c.wildReels)for(var d=0;d<c.wildReels.length;d++)if(c.wildReels[d][0]===
a){b.wildAt=c.wildReels[d][1];break}void 0;this.reelControllers[a].stop(a,b)}};b.start=function(){this.playStartTime=(new Date).getTime();this.gameView.topReelsFade.visible=!0;this.gameView.bottomReelsFade.visible=!0;this.winVisualsController.end();this.winVisualsController.bigwinController.end();this.game.soundController.spinSound.play();this.game.make.tween(this.gameView.reelsDim).to({alpha:0},300,Phaser.Easing.Linear.In,!0);this.reelsReadyBits=0;this.reelsCanBeStopped=!1;this.reelsEnabled=!0;for(var a=
0;5>a;a++)this.game.time.events.add(100*a,this.kickReel,this,a);this.game.time.events.add(100,function(){app.controller.sendNewp()},this);this.game.time.events.add(app.model.minimumRunTime,this.checkForStop,this)};b.startReels=function(){this.playStartTime=(new Date).getTime();this.gameView.topReelsFade.visible=!0;this.gameView.bottomReelsFade.visible=!0;this.winVisualsController.end();this.winVisualsController.bigwinController.end();this.game.soundController.spinSound.play();this.game.make.tween(this.gameView.reelsDim).to({alpha:0},
300,Phaser.Easing.Linear.In,!0);this.reelsReadyBits=0;this.reelsCanBeStopped=!1;this.reelsEnabled=!0;for(var a=0;5>a;a++)this.game.time.events.add(100*a,this.kickReel,this,a);this.game.time.events.add(100,function(){app.controller.startNextAction()},this);this.game.time.events.add(app.model.minimumRunTime,this.checkForStop,this)};b.end=function(){this.playEndTime=(new Date).getTime();void 0;void 0;app.model.reelOutcome&&0<app.model.reelOutcome.spinNo?(this.wildOutro(),this.game.time.events.add(1E3,
this.bankTotalWin,this)):this.bankTotalWin()};b.bankTotalWin=function(){if(0<app.model.state.totalWin)app.model.totalWin=app.model.state.totalWin,this.game.soundController.wildMusic.isPlaying&&this.game.soundController.wildMusic.stop(),this.game.soundController.bankSound.play(),this.winVisualsController.flashTotalWin(),this.game.time.events.add(1E3,function(){this.winVisualsController.bigwinController.end();if(this.onPlayEnded)this.onPlayEnded()},this);else if(this.onPlayEnded)this.onPlayEnded()};
b.spinReels=function(){this.gameView.topReelsFade.visible=!0;this.gameView.bottomReelsFade.visible=!0;this.game.soundController.wildMusic.isPlaying||this.game.soundController.wildMusic.play();this.winVisualsController.end();this.game.soundController.wildSpinSound.play();this.reelsReadyBits=0;this.reelsCanBeStopped=!1;this.reelsEnabled=!0;for(var a=0;5>a;a++)app.model.state.holdBits&1<<a?(this.setReelReady(a),this.reelControllers[a].undimSymbols()):this.game.time.events.add(100*a,this.kickReel,this,
a);this.game.time.events.add(100,function(){app.controller.startNextAction()},this);this.game.time.events.add(100,this.checkForStop,this)};b.stopReels=function(){void 0;for(var a=[100,500,400,250,250],b=[1500,1E3,1E3,1E3,1E3],c=0,d=0,e=0;5>e;e++)app.model.state.holdBits&1<<e||(c=0<app.model.reelOutcome.spinNo?c+b[d++]:c+a[d++]),this.game.time.events.add(c,this.stopReel,this,e)};b.slamStopReels=function(){void 0;for(var a=0;5>a;a++)this.stopReel(a)};b.abortReels=function(){void 0;for(var a=0,b=0;5>
b;b++)this.game.time.events.add(a,this.stopReel,this,b),a+=100};b.wildOutro=function(){this.game.soundController.wildMusic.stop();this.game.soundController.wildOutroSound.play();for(var a=0;5>a;a++)this.gameView.winVisuals.wildColumns[a].startOutro()};b.onWinVisualsComplete=function(){void 0;if(this.onActionComplete)this.onActionComplete()};app.PlayController=c;window.p=b})();(function(){var c=function(a,b){this.game=a;this.gameView=b;this.xSpacing=app.xSpacing;this.ySpacing=app.ySpacing;this.lineWinIndex=0;this.reelOutcome=null;this.totalWinScale=1;this.lastSide=this.flaresDestroyed=this.totalFlares=0;this.timer=this.game.time.create(!1);this.timer.start();this.points={x:[0,200,120,456,640],y:[0,300,120,156,480],angle:[0,0,0,0,0]};this.increment=1/this.game.width;this.ix=0;this.swooshController=new app.SwooshController(this.game,this.gameView);this.bigwinController=new app.BigwinController(this.game,
this.gameView);this.bigwinController.onReady=app.util.bind(this,this.bigwinController_onReady);this.fastForwardHandler=app.util.bind(this,this.onFastForwardPressed);this.winstartCount=0},b=c.prototype={};c.prototype.constructor=c;b.start=function(a){void 0;this.fastForward=!1;this.reelOutcome=a;if(this.reelOutcome.lineWins&&0<this.reelOutcome.lineWins.length){this.gameView.topReelsFade.visible=!1;this.gameView.bottomReelsFade.visible=!1;if(!this.reelOutcome.wildReels||0==this.reelOutcome.wildReels.length)app.model.state.holdBits||
!1==app.settings.disableWinVisualCancellation&&app.hudController.enableFastForward(this.fastForwardHandler);this.lineWinIndex=0;this.totalWinScale=1;this.gameView.hudView.totalWinText.scale.x=1;this.gameView.hudView.totalWinText.scale.y=1;this.gameView.reelSet.dimReelSymbols();a=this.reelOutcome.runningWin/this.reelOutcome.totalBet;void 0;void 0;void 0;0==this.bigwinController.start(a)&&this.multiLineWin3()}else if(this.onComplete)this.onComplete(this)};b.startReelWinVisual=function(){this.multiLineWin3()};
b.end=function(){void 0;this.timer.removeAll();this.hideWinLine();this.hideAllWinSymbols();this.bigwinController.endCurrentVisual()};b.setTotalWinText=function(){this.gameView.hudView.totalWinText.setText(app.locale.formatMoneyValueOnly(app.model.totalWin));this.gameView.hudView.totalWinPanel.visible=!0;this.gameView.hudView.totalWinText.visible=!0};b.hideWinLine=function(){this.gameView.winLineView.hidePayline();for(var a=0;5>a;a++)this.gameView.winVisuals.symbols[a].visible=!1};b.hideAllWinSymbols=
function(){for(var a=0;5>a;a++)for(var b=0;3>b;b++)this.gameView.winVisuals.winSymbols[a][b].visible=!1};b.hideAllWildColumns=function(){for(var a=0;a<this.gameView.winVisuals.wildColumns.length;a++)this.gameView.winVisuals.wildColumns[a].visible=!1};b.hideAllWildSymbols=function(){};b.restoreAllSymbols=function(){void 0;for(var a=0;5>a;a++)for(var b=app.baseState.playController.reelControllers[a],c=0;3>c;c++)this.gameView.winVisuals.winSymbols[a][c].visible&&(this.gameView.winVisuals.winSymbols[a][c].visible=
!1,b.symbolsInView[c+1].alpha=1,b.symbolsInView[c+1].visible=!0)};b.multiLineWin3=function(){var a,b,c;for(a=0;a<this.reelOutcome.lineWins.length;a++){c=this.reelOutcome.lineWins[a];c=c.lineSymbols;for(b=0;b<c.length;b++){var d=c[b];this.gameView.winVisuals.winSymbols[d.reel][d.offset-1].setIx(d.symbolId);this.gameView.winVisuals.winSymbols[d.reel][d.offset-1].visible=!0;this.gameView.winVisuals.winSymbols[d.reel][d.offset-1].alpha=1;app.baseState.playController.reelControllers[d.reel].symbolsInView[d.offset].visible=
!1}}this.hideAllWildSymbols();this.lineVisuals=[];for(a=0;a<this.reelOutcome.lineWins.length;a++){c=this.reelOutcome.lineWins[a];var d=c.paylineId,e=null;for(b=0;b<this.lineVisuals.length;b++)if(this.lineVisuals[b].paylineId===d){e=this.lineVisuals[b];break}e||(e={},e.paylineId=d,e.lineWins=[],this.lineVisuals.push(e));e.lineWins.push(c)}void 0;this.lineWinIndex=0;this.nextLineVisual3()};b.nextLineVisual3=function(){var a,b,c;if(this.lineWinIndex>=this.lineVisuals.length||this.fastForward){if(void 0,
this.bigwinController.endCurrentVisual(),this.restoreAllSymbols(),this.swooshController.end(),this.onComplete)this.onComplete(this)}else{var d=this.lineVisuals[this.lineWinIndex];for(a=b=0;a<this.gameView.winVisuals.wildColumns.length;a++)!0==this.gameView.winVisuals.wildColumns[a].visible&&b++;this.game.soundController.winstart1.isPlaying?this.game.soundController.winstart2.isPlaying?this.game.soundController.winstart3.isPlaying?this.game.soundController.winstart4.isPlaying?this.game.soundController.winstart5.isPlaying?
this.game.soundController.winstart6.isPlaying||this.game.soundController.winstart6.play():this.game.soundController.winstart5.play():this.game.soundController.winstart4.play():this.game.soundController.winstart3.play():this.game.soundController.winstart2.play():this.game.soundController.winstart1.play();this.swooshController.start(d.paylineId);for(b=0;5>b;b++)this.points.x[b]=-(2*this.xSpacing)+b*this.xSpacing,this.points.y[b]=-(1*this.ySpacing)+app.paylineWayOffsets[d.paylineId-1][b][1]*this.ySpacing;
this.intersections=[];this.ix=0;this.increment=40/this.game.width;for(a=0;a<d.lineWins.length;a++){c=d.lineWins[a];for(b=0;b<c.lineSymbols.length;b++){var e={},f=-(2*this.xSpacing)+c.lineSymbols[b].reel*this.xSpacing,l=-(2*this.ySpacing)+c.lineSymbols[b].offset*this.ySpacing;e.point=new Phaser.Point(f,l);e.rectangle=new Phaser.Rectangle(512+f-50,384+l-50,100,100);e.hit=!1;e.lineWin=c;e.mul=0;e.win=0;e.symbolId=c.sym;1===b&&(e.mul=c.mul,e.win=c.win);this.intersections.push(e)}app.model.totalMul+=c.mul;
app.model.totalWin+=c.win}this.lineWinIndex++;this.timer1=this.game.time.create(!1);this.timer1.loop(0.01,this.plot,this);this.timer1.start();this.plotEnabled=!0}};b.plot=function(){if(this.plotEnabled){var a=512+this.game.math.catmullRomInterpolation(this.points.x,this.ix),b=384+this.game.math.catmullRomInterpolation(this.points.y,this.ix);this.ix+=this.increment*60*(this.game.time.elapsed/1E3);for(var b=new Phaser.Point(a,b),c=0;c<this.intersections.length;c++){var d=this.intersections[c];!d.hit&&
b.x>d.rectangle.x&&(d.hit=!0,this.spawnWinFlare3(d.point,0<d.mul,d.symbolId),0<d.mul&&this.spawnWinText3(d.point,d.mul,d.win))}if(130>a||903<=a)this.plotEnabled=!1,this.timer1.stop(),this.setTotalWinText(),this.nextLineVisual3()}};b.spawnWinText3=function(a,b,c){a=this.game.make.bitmapText(a.x,a.y,"numberfont",app.locale.formatMoneyValueOnly(c.toString()),25);a.anchor.set(0.5,0.5);this.gameView.winVisuals.add(a);b=this.game.make.tween(a).to({y:"-150",alpha:0},1500,Phaser.Easing.Linear.None,!1);b.onComplete.addOnce(function(){void 0},
this);b.start();this.game.add.tween(a.scale).to({x:3,y:3},300,Phaser.Easing.Linear.In,!1).to({},2E3,Phaser.Easing.Linear.None,!1).to({x:0.5,y:0.5},700,Phaser.Easing.Linear.None,!0)};b.spawnWinFlare3=function(a,b,c){b=this.gameView.winVisuals.createFlare(a.x,a.y,c);b.scale.x=1;b.scale.y=1;a=this.game.make.tween(b.scale).to({x:1.5,y:1.5},300,Phaser.Easing.Linear.In,!1).to({},300,Phaser.Easing.Linear.In,!1).to({x:0.5,y:0.5},400,Phaser.Easing.Linear.In,!1);b=this.game.make.tween(b).to({angle:"+60"},500,
Phaser.Easing.Linear.In,!1).to({angle:"+60",alpha:0},400,Phaser.Easing.Linear.In,!1);b.onComplete.addOnce(function(a){a.destroy(!0);++this.flaresDestroyed},this);b.start();a.start()};b.flashTotalWin=function(){this.gameView.hudView.totalWinPanel.visible=!0;this.gameView.hudView.totalWinText.visible=!0;this.gameView.hudView.totalWinText.setText(app.locale.formatMoneyValueOnly(app.model.totalWin));this.totalWinTween=this.game.make.tween(this.gameView.hudView.totalWinText.scale).to({x:0.5,y:0.5},100,
Phaser.Easing.Back.In,!1).to({x:1.2,y:1.2},800,Phaser.Easing.Elastic.Out,!1);this.totalWinTween.onComplete.addOnce(function(){},this);this.totalWinTween.start();this.startParticles()};b.bigwinController_onReady=function(){this.startReelWinVisual()};b.onFastForwardPressed=function(){void 0;this.fastForward=!0};b.startParticles=function(){this.gameView.hudView.emitter.start(!0,1200,null,20)};app.WinVisualsController=c;window.p=b})();(function(){var c=function(a,b){this.game=a;this.gameView=b;this.xSpacing=app.xSpacing;this.ySpacing=app.ySpacing;this.wayPoints={x:[0,0,0,0,0,0,0],y:[0,0,0,0,0,0,0]};this.increment=40/900;this.ix=0;this.ropePoints=[{x:-220,y:0},{x:-200,y:0},{x:-180,y:5},{x:-160,y:10},{x:-140,y:15},{x:-120,y:0},{x:-100,y:0},{x:-80,y:0},{x:-60,y:0},{x:-40,y:0},{x:-20,y:0}];this.rope=new Phaser.Rope(this.game,0,0,"winlinerope",0,this.ropePoints);this.rope.smoothed=!1;this.rope.exists=!1;this.gameView.winVisuals.add(this.rope);
this.enabled=!1;this.rightPortalIntroTween=this.game.make.tween(this.gameView.winVisuals.rightPortal).to({alpha:1},500,Phaser.Easing.Linear.None,!1);this.leftPortalOutroTween=this.game.make.tween(this.gameView.winVisuals.leftPortal).to({alpha:0},500,Phaser.Easing.Linear.None,!1);this.rightPortalOutroTween=this.game.make.tween(this.gameView.winVisuals.rightPortal).to({alpha:0},500,Phaser.Easing.Linear.None,!1);this.timer1=this.game.time.create(!1);this.timer1.loop(0.5,this.plot,this);this.timer1.start()},
b=c.prototype={};c.prototype.constructor=c;b.setWayPoints=function(a){this.wayPoints.x[0]=-(3*this.xSpacing)+20;this.wayPoints.y[0]=-(1*this.ySpacing)+app.paylineWayOffsets[a-1][0][1]*this.ySpacing;for(var b=0;5>b;b++)this.wayPoints.x[b+1]=-(2*this.xSpacing)+b*this.xSpacing,this.wayPoints.y[b+1]=-(1*this.ySpacing)+app.paylineWayOffsets[a-1][b][1]*this.ySpacing;this.wayPoints.x[6]=3*this.xSpacing-20;this.wayPoints.y[6]=-(1*this.ySpacing)+app.paylineWayOffsets[a-1][4][1]*this.ySpacing;this.gameView.winVisuals.leftPortal.x=
this.wayPoints.x[0]-54;this.gameView.winVisuals.leftPortal.y=this.wayPoints.y[0]-64;this.gameView.winVisuals.rightPortal.x=this.wayPoints.x[6]-54;this.gameView.winVisuals.rightPortal.y=this.wayPoints.y[6]-64};b.start=function(a){void 0;this.setWayPoints(a);this.ix=0;this.enabled=!0;this.gameView.winVisuals.leftPortal.visible=!0;this.gameView.winVisuals.rightPortal.visible=!0;this.gameView.winVisuals.leftPortal.alpha=1;this.gameView.winVisuals.rightPortal.alpha=1};b.end=function(){void 0;this.leftPortalOutroTween.start();
this.rightPortalOutroTween.start()};b.plot=function(){if(this.enabled){for(var a=this.ix,b=this.ropePoints.length-1,c=b;0<=c;c--){var d=a;1<d?d=1:0>d&&(d=0);var e=this.game.math.catmullRomInterpolation(this.wayPoints.x,d),d=this.game.math.catmullRomInterpolation(this.wayPoints.y,d);this.ropePoints[c].x=e;this.ropePoints[c].y=d;a-=1/11/2}1.5<=this.ix?this.enabled=this.rope.exists=!1:this.rope.exists||(this.rope.exists=!0);this.ix+=this.increment*60*(this.game.time.elapsed/1E3);if(this.onMoved)this.onMoved(this.ropePoints[b].x,
this.ropePoints[b].y)}};b.onMoved=null;app.SwooshController=c;window.p=b})();(function(){var c=function(a,b){this.game=a;this.gameView=b;this.xSpacing=app.xSpacing;this.ySpacing=app.ySpacing;this.reelOutcome=null;this.lineWinIndex=0;this.timer=this.game.time.create(!1);this.timer.start()},b=c.prototype={};c.prototype.constructor=c;b.start=function(a){void 0;this.reelOutcome=a;this.timer.removeAll();this.reelOutcome&&this.reelOutcome.lineWins&&0<this.reelOutcome.lineWins.length?(this.showAllWinSymbols(),this.lineWinIndex=0,this.cycle()):this.timer.add(3E3,this.twinkle,this)};
b.end=function(){void 0;this.timer.removeAll();this.hideAllWinSymbols();this.gameView.winLineView.hidePayline();this.gameView.winVisuals.winText.visible=!1;this.reelOutcome=null};b.showAllWinSymbols=function(){for(var a=0;a<this.reelOutcome.lineWins.length;a++)for(var b=this.reelOutcome.lineWins[a].lineSymbols,c=0;c<b.length;c++){var d=b[c];this.gameView.winVisuals.winSymbols[d.reel][d.offset-1].setIx(d.symbolId);this.gameView.winVisuals.winSymbols[d.reel][d.offset-1].visible=!0;this.gameView.winVisuals.winSymbols[d.reel][d.offset-
1].alpha=1}};b.hideAllWinSymbols=function(){for(var a=0;5>a;a++)for(var b=0;3>b;b++)this.gameView.winVisuals.winSymbols[a][b].visible=!1};b.twinkle=function(){var a=this.game.rnd.integerInRange(0,4),b=this.game.rnd.integerInRange(1,3),c=this.game.rnd.integerInRange(1800,4E3);this.gameView.reelSet.reels[a].reelSymbols[b].startTwinkle();this.timer.add(c,this.twinkle,this)};b.cycle=function(){this.reelOutcome&&(this.reelOutcome.lineWins&&0<this.reelOutcome.lineWins.length)&&(this.lineWinIndex>=this.reelOutcome.lineWins.length&&
(this.lineWinIndex=-1),0<=this.lineWinIndex?this.showLineWin(this.lineWinIndex++):(this.timer.add(2E3,this.cycle,this),this.lineWinIndex=0))};b.showLineWin=function(a){a=this.reelOutcome.lineWins[a];this.gameView.winLineView.showPayline(a.paylineId);for(var b=a.lineSymbols,c=0;c<b.length;c++){var d=b[c];app.baseState.playController.reelControllers[d.reel].symbolsInView[d.offset].alpha=1;this.gameView.winVisuals.winSymbols[d.reel][d.offset-1].setIx(d.symbolId+18);this.gameView.winVisuals.winSymbols[d.reel][d.offset-
1].visible=!0;this.gameView.winVisuals.winSymbols[d.reel][d.offset-1].alpha=0;1===c&&(this.gameView.winVisuals.winText.setText(app.locale.formatMoneyValueOnly(a.win)),this.gameView.winVisuals.winText.x=0-2*this.xSpacing+d.reel*this.xSpacing,this.gameView.winVisuals.winText.y=0-1*this.ySpacing+(d.offset-1)*this.ySpacing,this.gameView.winVisuals.winText.scale.x=0.7,this.gameView.winVisuals.winText.scale.y=0.7,this.gameView.winVisuals.winText.visible=!0);this.game.make.tween(this.gameView.winVisuals.winSymbols[d.reel][d.offset-
1]).to({alpha:1},700,Phaser.Easing.Linear.In,!1).to({alpha:0},700,Phaser.Easing.Linear.In,!1).start()}a=this.game.make.tween(this.gameView.winVisuals.winText.scale).to({x:1,y:1},400,Phaser.Easing.Linear.In,!1).to({},300,Phaser.Easing.Linear.In,!1).to({x:0.7,y:0.7},400,Phaser.Easing.Linear.In,!1);a.onComplete.addOnce(function(){this.gameView.winVisuals.winText.visible=!1;this.gameView.winLineView.hidePayline();this.timer.add(200,this.cycle,this)},this);a.start()};b.hideLineWin=function(){this.gameView.reelSet.dimReelSymbols();
this.gameView.winVisuals.winText.visible=!1;this.gameView.winLineView.hidePayline();for(var a=0;5>a;a++)for(var b=0;3>b;b++)this.gameView.winVisuals.winSymbols[a][b].visible=!1};app.ReviewController=c;window.p=b})();(function(){var c=function(a,b){this.game=a;this.gameView=b;this.minY=-150;this.wisps=[];for(var c=0;5>c;c++){var d={};d.sprite=this.gameView.wispGroup.create(0,0,"mainatlas");this.gameView.wispGroup.add(d.sprite);this.wisps.push(d);this.relocateWisp(c)}},b=c.prototype={};c.prototype.constructor=c;b.start=function(){void 0;this.timer1=this.game.time.create(!1);this.timer1.loop(60,this.plot,this);this.timer1.start()};b.end=function(){void 0};b.plot=function(){for(var a=0;a<this.wisps.length;a++){var b=
this.wisps[a];b.degn+=1;b.sprite.x+=3*Math.cos(0.08*b.degn)/2;b.sprite.y+=2*Math.sin(0.05*b.degn)/2-0.3;!b.dying&&b.sprite.y<this.minY&&(b.dying=!0,this.randomizeWisp(a))}};b.randomizeWisp=function(a){this.game.make.tween(this.wisps[a].sprite).to({alpha:0},500,Phaser.Easing.Linear.In,!0).onComplete.addOnce(function(){this.relocateWisp(a)},this)};b.relocateWisp=function(a){a=this.wisps[a];a.sprite.frameName="fairylights-"+this.game.rnd.integerInRange(0,4);a.sprite.x=this.game.rnd.integerInRange(-200,
200);a.sprite.y=this.game.rnd.integerInRange(this.minY+10,130);a.degn=this.game.rnd.integerInRange(0,360);a.sprite.alpha=1;a.dying=!1};app.WispController=c;window.p=b})();(function(){var c=function(a){this.game=a;this.musicVolume=this.sfxVolume=-1},b=c.prototype={};c.prototype.constructor=c;b.load=function(){void 0;this.spinSound=this.game.add.audio("spin");this.reelStopSound=this.game.add.audio("rstop");this.wildIntroSound=this.game.add.audio("wildintro");this.wildOutroSound=this.game.add.audio("wildoutro");this.wildSpinSound=this.game.add.audio("wildspin");this.bankSound=this.game.add.audio("winstart1");this.incSound=this.game.add.audio("incsound");this.decSound=
this.game.add.audio("decsound");this.bigwinIntroSound=this.game.add.audio("bigwinintrosound");this.winstart1=this.game.add.audio("banksound");this.winstart2=this.game.add.audio("banksound");this.winstart3=this.game.add.audio("banksound");this.winstart4=this.game.add.audio("banksound");this.winstart5=this.game.add.audio("banksound");this.winstart6=this.game.add.audio("banksound");this.music=this.game.add.audio("music");this.wildMusic=this.game.add.audio("wildmusic");this.masterVolume=1};b.setMute=
function(a){void 0;this.game.sound.mute=a};b.setSfxVolume=function(a){if(this.sfxVolume!=a&&(this.sfxVolume=a,this.spinSound.volume=a,this.reelStopSound.volume=a,this.wildIntroSound.volume=a,this.wildOutroSound.volume=a,this.wildSpinSound.volume=a,this.bankSound.volume=a,this.incSound.volume=a,this.decSound.volume=a,this.bigwinIntroSound.volume=a,this.winstart1.volume=a,this.winstart2.volume=a,this.winstart3.volume=a,this.winstart4.volume=a,this.winstart5.volume=a,this.winstart6.volume=a,null!=this.onSfxVolumeChanged))this.onSfxVolumeChanged(this.sfxVolume)};
b.setMusicVolume=function(a){if(this.musicVolume!=a&&(this.musicVolume=a,this.music.volume=a,this.wildMusic.volume=a,null!=this.onMusicVolumeChanged))this.onMusicVolumeChanged(this.musicVolume)};b.onMusicVolumeChanged=null;b.onSfxVolumeChanged=null;app.SoundController=c;window.p=b})();(function(){var c=function(a,b){void 0;Phaser.Group.call(this,a,b);this.panel=this.game.make.image(-359,-239,"mainatlas","popuppanel");this.add(this.panel);this.headerStyle={font:"40px arial",fill:"#ffffff",fontWeight:"bold",align:"center"};this.largeStyle={font:"30px arial",fill:"#ffffff",fontWeight:"bold",align:"center"};this.bodyStyle={font:"20px arial",fill:"#ffffff",fontWeight:"bold",align:"center"};this.legalStyle={font:"12px arial",fill:"#ffffff",fontWeight:"bold",align:"center"};this.cancelButton=
new app.SpriteButton(this.game,0,0,"mainatlas","cancelbutton-0","cancelbutton-1");this.cancelButton.x=315;this.cancelButton.y=-195;this.cancelButton.onPressed=app.util.bind(this,this.cancelButtonPressed);this.add(this.cancelButton);this.leftButton=new app.SpriteButton(this.game,0,0,"mainatlas","leftarrowbutton-0","leftarrowbutton-1");this.leftButton.x=-315;this.leftButton.y=195;this.leftButton.onPressed=app.util.bind(this,this.leftButtonPressed);this.add(this.leftButton);this.rightButton=new app.SpriteButton(this.game,
0,0,"mainatlas","rightarrowbutton-0","rightarrowbutton-1");this.rightButton.x=315;this.rightButton.y=195;this.rightButton.onPressed=app.util.bind(this,this.rightButtonPressed);this.add(this.rightButton);this.pageGroups=[];var c;c=this.game.make.group();this.createSunwildPage(c);this.add(c);this.pageGroups.push(c);c=this.game.make.group();this.createPaytablePage(c);this.add(c);this.pageGroups.push(c);c=this.game.make.group();this.createPaylinesPage(c);this.add(c);this.pageGroups.push(c);this.pageIndex=
0;this.showCurrentPage();this.visible=!1;this.hudController=null;this.timer=this.game.time.create(!1);this.timer.start()},b=c.prototype=Object.create(Phaser.Group.prototype);c.prototype.constructor=c;b.createStyle=function(a){return{font:a.font,fill:a.fill,fontWeight:a.fontWeight,align:a.align}};b.show=function(a){this.hudController=a;this.updateInfo();this.cancelButton.enable();this.rightButton.enable();this.leftButton.enable();this.visible=!0;this.alpha=0;this.timer.removeAll();this.timer.add(1E3,
this.twinkle,this);this.game.make.tween(this).to({alpha:1},200,Phaser.Easing.Linear.In,!0)};b.hide=function(){this.timer.removeAll();this.timer.add(3E3,this.twinkle,this);var a=this.game.make.tween(this).to({alpha:0},200,Phaser.Easing.Linear.In,!1);a.onComplete.addOnce(function(){this.visible=!1},this);a.start()};b.updateInfo=function(){if(this.hudController){this.wildWinText.setText(app.locale.formatMoney(this.hudController.getReelSymbolWinForCurrentBet(1,3)));for(var a=0;8>a;a++)this.reelSymbolWinTexts[a].setText(app.locale.formatMoney(this.hudController.getReelSymbolWinForCurrentBet(a+
2,3)))}};b.showCurrentPage=function(){for(var a=0;a<this.pageGroups.length;a++)this.pageGroups[a].visible=a===this.pageIndex};b.transitionToPage=function(a,b){this.pageGroups[a].visible=!0;this.pageGroups[a].alpha=1;this.pageGroups[b].visible=!0;this.pageGroups[b].alpha=0;this.game.make.tween(this.pageGroups[a]).to({alpha:0},300,Phaser.Easing.Linear.In,!0);this.game.make.tween(this.pageGroups[b]).to({alpha:1},300,Phaser.Easing.Linear.In,!0)};b.cancelButtonPressed=function(){void 0;if(this.onComplete)this.onComplete()};
b.leftButtonPressed=function(){void 0;var a=this.pageIndex,b=this.pageIndex;0>=b&&(b=this.pageGroups.length);b--;0<b&&this.leftButton.enable();this.pageIndex=b;this.transitionToPage(a,b)};b.rightButtonPressed=function(){void 0;var a=this.pageIndex,b=this.pageIndex;b>=this.pageGroups.length-1&&(b=-1);b++;b<this.pageGroups.length-1&&this.rightButton.enable();this.pageIndex=b;this.transitionToPage(a,b)};b.createSunwildPage=function(a){var b=this.createStyle(this.headerStyle),b=app.createPhaserTextFromElement(this.game,
0,-190,elements.infoScreens.sunwildPage.headerString,b);a.add(b);b=a.create(0,-60,"mainatlas","wildbox");b.anchor.set(0.5,0.5);b=new app.ReelSymbol(this.game,a,1,1,0,-80);b.scale.x=0.85;b.scale.y=0.85;b=a.create(-60,-125,"mainatlas","x3");b.anchor.set(0.5,0.5);b=this.createStyle(this.largeStyle);this.wildWinText=new Phaser.Text(this.game,0,10,"wildWin",b);this.wildWinText.anchor.set(0.5,0.5);a.add(this.wildWinText);b=this.createStyle(this.bodyStyle);b=app.createPhaserTextFromElement(this.game,0,70,
elements.infoScreens.sunwildPage.line1String,b);a.add(b);b=this.createStyle(this.bodyStyle);b=app.createPhaserTextFromElement(this.game,0,110,elements.infoScreens.sunwildPage.line2String,b);a.add(b);b=this.createStyle(this.bodyStyle);b=app.createPhaserTextFromElement(this.game,0,150,elements.infoScreens.sunwildPage.line3String,b);a.add(b)};b.createPaytablePage=function(a){var b=this.createStyle(this.headerStyle),b=app.createPhaserTextFromElement(this.game,0,-190,elements.infoScreens.paytablePage.headerString,
b);a.add(b);this.reelSymbolWinTexts=[];for(var c=0,d=-100,b=2,e=0;8>e;e++){var d=Math.floor(e/4),c=-245+165*Math.floor(e%4),d=-85+155*d,f=a.create(c,d,"mainatlas","symbolbox");f.anchor.set(0.5,0.5);f=new app.ReelSymbol(this.game,a,b,b,c,d-15);f.scale.x=0.75;f.scale.y=0.75;f=a.create(c-40,d-45,"mainatlas","x3");f.anchor.set(0.5,0.5);c=new Phaser.Text(this.game,c,d+55,"0.00",this.bodyStyle);c.anchor.set(0.5,0.5);a.add(c);this.reelSymbolWinTexts[e]=c;b++}b=this.createStyle(this.bodyStyle);b=app.createPhaserTextFromElement(this.game,
0,200,elements.infoScreens.paytablePage.allWinsPayString,b);a.add(b)};b.createPaylinesPage=function(a){var b=app.paylineOffsets.length,c;c=this.createStyle(this.headerStyle);var d=app.createPhaserTextFromElement(this.game,0,-190,elements.infoScreens.paylinesPage.headerString,c);a.add(d);for(var e=b,f=0;f<b;){var l=Math.floor(f/10);c=10<e?10:e;var m=-(64*Math.floor(c/2)+25.5);0===c%2&&(m+=32);for(var n=0;n<c;n++){var d=m+64*n,t=-140+80*l;a.create(d,t,"mainatlas","paygridempty");for(var r=0;5>r;r++)a.create(d+
1+10*r,t+1+10*app.paylineOffsets[f][r],"mainatlas","paygridelement");d=new Phaser.Text(this.game,d+25.5,t+45,(f+1).toString(),this.bodyStyle);d.anchor.set(0.5,0.5);a.add(d);f++;e--}}a.create(0,40,"mainatlas","payways").anchor.set(0.5,0.5);c=this.createStyle(this.bodyStyle);d=app.createPhaserTextFromElement(this.game,0,90,elements.infoScreens.paylinesPage.paywaysString,c);a.add(d);c=this.createStyle(this.legalStyle);d=app.createPhaserTextFromElement(this.game,0,145,elements.infoScreens.paylinesPage.malfunctionString,
c);a.add(d);c=this.createStyle(this.legalStyle);d=app.createPhaserTextFromElement(this.game,0,200,elements.infoScreens.paylinesPage.versionString,c);d.text+=" "+app.settings.version+". "+elements.infoScreens.paylinesPage.theoreticalReturnString.value+" "+app.model.rtp+"%";a.add(d)};b.twinkle=function(){var a=this.game.rnd.integerInRange(1800,4E3),b,c;0===this.pageIndex?(c=1,b=this.pageGroups[0]):(c=this.game.rnd.integerInRange(2,8),b=this.pageGroups[1]);b.forEach(function(a){a.twinkle&&a.id===c&&
a.startTwinkle()});this.timer.add(a,this.twinkle,this)};b.onComplete=null;app.InfoView=c;window.p=b})();app.assetPath=function(c){return app.assetsPath+c};app.raiseError=function(c,b,a){leanderGMApi.publishEvent(leanderGMApi.publications.ERROR_OCCURRED,{data:c,error:{code:c,message:b,action:a}})};
app.locale={lang:"en",symbol:"",thousandsSeparator:",",decimalSeparator:".",formatMoney:function(c){return app.Accountancy.formatMoney(c,app.locale.currencyPrefix,app.locale.currencyDecimalPlaces,app.locale.thousandsSeparator,app.locale.decimalSeparator)+app.locale.currencySuffix},formatMoneyValueOnly:function(c){return app.Accountancy.formatMoney(c,"",app.locale.currencyDecimalPlaces,app.locale.thousandsSeparator,app.locale.decimalSeparator)},get:function(c){return c}};
app.controller={addproperty:function(c,b,a){c[b]=a},getproperty:function(c,b){for(var a=c,g=b.split("."),h=0;h<g.length;h++)a=a[g[h]];return a},sendLogin:function(){void 0;app.settings.fullScreen&&leanderGMApi.publishEvent(leanderGMApi.publications.FULLSCREEN_MODE_ON);sendLeanderInitializeGameRequest()},setBalance:function(c){void 0;app.model.state.balance=c;leanderGMApi.publishEvent(leanderGMApi.publications.BALANCE_UPDATED_GAME,{balance:app.model.state.balance,free_balance:0})},setBet:function(){server.model.lineBet=
app.hudController.getBet();server.model.totalBet=app.hudController.getTotalBet();app.model.lineBet=server.model.lineBet;app.model.totalBet=server.model.totalBet;void 0;void 0;leanderGMApi.publishEvent(leanderGMApi.publications.TOTALBET_UPDATED,app.model.totalBet)},sendNewp:function(){void 0;server.model.actions=[];sendLeanderOpenPlayRequest()},startPlay:function(){void 0;void 0;app.model.playId=server.model.state.playId;app.model.actionIx=0;app.controller.startNextAction()},onLoggedIn:function(c){void 0;
var b;b=c.params;void 0;server.model={};server.model.rtp=c.gameRTP;server.model.balance=c.balance;server.model.lineOptions=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20];server.model.betOptions=b.betPerLine;server.model.prialWinPlan=app.controller.parsePayTable(b.payTable);server.model.paylineOffsets=app.controller.parsePaylineOffsets(b.lineLayout);server.model.minimumSpinTime=3E3;server.model.defaultAutoSpins=b.autoPlayDefault;server.model.currencyPrefix=b.currencyPrefix;server.model.currencySuffix=
b.currencySuffix;server.model.currencyDecimalPlaces=b.currencyDecimalPlaces;server.model.betLines=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20];server.model.lineBet=c.data&&c.data.bettingParameters?c.data.bettingParameters.currentBetPerLine:b.betPerLineDefault;server.model.totalBet=20*server.model.lineBet;void 0;void 0;app.controller.parseAutoplaySettingsPage(b);void 0;server.model.state={};server.model.actions=[];if(b.responseHistory&&0<b.responseHistory.length){c={name:"betPlaced",betPlaced:{}};
server.model.actions.push(c);c={name:"startReels"};var a={holdBits:0};a.lineBet=server.model.lineBet;a.betLines=server.model.betLines;c.startReels=a;server.model.actions.push(c);app.controller.parseServerResponse(b.responseHistory)}else server.model.state.balance=c.balance,server.model.state.freeBalance=c.freeBalance,server.model.state.lineBet=server.model.lineBet,server.model.state.betLines=server.model.betLines,server.model.state.totalBet=server.model.totalBet,server.model.state.totalWin=0,server.model.state.rsym=
parseReelLayout(b.noPrizeReelLayout),server.model.state.isym=server.model.state.rsym.slice(),server.model.state.spinNo=0;app.model.rtp=server.model.rtp;app.locale.currencyPrefix=server.model.currencyPrefix;app.locale.currencySuffix=server.model.currencySuffix;app.locale.currencyDecimalPlaces=server.model.currencyDecimalPlaces;app.prialWinPlan=server.model.prialWinPlan;app.paylineOffsets=server.model.paylineOffsets;app.model.balance=server.model.balance;app.model.lineOptions=server.model.lineOptions;
app.model.betOptions=server.model.betOptions;app.model.minimumSpinTime=server.model.minimumSpinTime;app.model.minimumRunTime=app.model.minimumSpinTime-2300;app.model.defaultAutoSpins=server.model.defaultAutoSpins;app.model.reelOutcome={};app.model.reelOutcome.rsym=server.model.state.rsym;app.model.reelOutcome.isym=server.model.state.isym;app.model.promotion={};app.controller.createPaylineOffsets(server.model.paylineOffsets);app.model.totalBetOptions=[];for(b=0;b<app.model.betOptions.length;b++)app.model.totalBetOptions.push(20*
app.model.betOptions[b]);app.model.actionIx=0;app.baseState.onCreated=app.util.bind(app.controller,function(){app.baseState.actionStart(server.model.state,null);leanderGMApi.publishEvent(leanderGMApi.publications.BALANCE_UPDATED_GAME,{balance:app.model.balance,free_balance:0});app.controller.setBet();DEBUG&&(app.settings.getSoundControlsAvailableFromOperator=leanderGMApi.getSoundControlsAvailableFromOperator());app.hudController.onInfoViewVisibilityChanged=app.hudController_onInfoViewVisibilityChanged;
app.hudController.onAutoplayViewVisibilityChanged=app.hudController_onAutoplayViewVisibilityChanged;app.hudController.setMenuButtonVisibility(leanderGMApi.getLobbyActive());app.hudController.setSpeakerButtonVisibility(!1==leanderGMApi.getSoundControlsAvailableFromOperator());app.hudController.showAudioState(leanderGMApi.getMusicActive(),leanderGMApi.getSfxActive());app.baseState.setAspect();!0==app.settings.useCustomAutoplayFeature?(leanderGMApi.publishEvent(leanderGMApi.publications.AUTOPLAY_CUSTOM_FEATURE_IN_GAME),
app.hudController.onAutoSpinSettingsRequested=function(){void 0;app.hudController.openCustomAutoSpinSettings()},app.hudController.onCustomAutoSpinsSettingsClosed=function(a){void 0;a&&leanderGMApi.publishEvent(leanderGMApi.publications.AUTOPLAY_CUSTOM_FEATURE_SETTINGS,{totalSpins:a.spins,totalBet:app.hudController.getTotalBet(),limitLoss:a.lossLimit,singleWinLimit:a.singleWinLimit,useJackpot:!1});app.controller.startAutoplay(a)},app.hudController.onAutoSpinsComplete=function(){void 0;leanderGMApi.publishEvent(leanderGMApi.publications.AUTOPLAY_CANCELLED)},
leanderGMApi.subscribeToEvent(leanderGMApi.publications.AUTOPLAY_LIMIT_REACHED,function(){void 0;delete app.model.autoplay;app.hudController.unsetAutoSpin()})):(leanderGMApi.subscribeToEvent(leanderGMApi.publications.AUTOPLAY_ACTIVATED_CONFIRMATION,function(a){void 0;if(a&&a.data){app.hudController.setTotalBet(a.data.totalBet);var b={};b.spins=a.data.spins;b.haltOnWin=!1;app.controller.startAutoplay(b)}else app.controller.startAutoplay()}),leanderGMApi.subscribeToEvent(leanderGMApi.publications.AUTOPLAY_ACTIVATED_CANCELLATION,
function(){void 0;app.hudController.onAutoplayConfigurationComplete()}),leanderGMApi.subscribeToEvent(leanderGMApi.publications.AUTOPLAY_LIMIT_REACHED,function(){void 0;delete app.model.autoplay;app.hudController.unsetAutoSpin()}),app.hudController.onAutoSpinSettingsRequested=function(){void 0;leanderGMApi.publishEvent(leanderGMApi.publications.AUTOPLAY_ACTIVATED_GAME,{spins:app.model.defaultAutoSpins,totalBetList:app.model.totalBetOptions,totalBet:app.hudController.getTotalBet()})},app.hudController.onAutoSpinsComplete=
function(){void 0;leanderGMApi.publishEvent(leanderGMApi.publications.AUTOPLAY_CANCELLED)});app.baseState.onPlayRequest=function(){void 0;leanderGMApi.isGUIBlocked()?(void 0,app.model.autoplay&&0<app.model.autoplay.spins&&(app.model.autoplay.spins=0),app.hudController.placeYourBets()):(subscribePlayConfirmation&&(leanderGMApi.unsubscribeFromEvent(subscribePlayConfirmation),subscribePlayConfirmation=null),subscribePlayConfirmation=leanderGMApi.subscribeToEvent(leanderGMApi.publications.PLAY_CONFIRMED,
function(){void 0;leanderGMApi.unsubscribeFromEvent(subscribePlayConfirmation);subscribePlayConfirmation=null;app.baseState.playRequestConfirmed()}),leanderGMApi.publishEvent(leanderGMApi.publications.PLAY_REQUEST))};app.baseState.onBetChanged=app.util.bind(this,function(){void 0;app.controller.setBet()});leanderGMApi.publishEvent(leanderGMApi.publications.PRELOADING_ENDED);leanderGMApi.publishEvent(leanderGMApi.publications.INITIALIZED)});app.baseState.onMenuButtonPressed=app.util.bind(this,function(){void 0;
leanderGMApi.goToLobby()});app.soundController.onMusicVolumeChanged=function(a){void 0;leanderGMApi.publishEvent(leanderGMApi.publications.MUSIC_STATUS_CHANGED_GAME,0!=a?!0:!1)};app.soundController.onSfxVolumeChanged=function(a){void 0;leanderGMApi.publishEvent(leanderGMApi.publications.SOUND_EFFECTS_STATUS_CHANGED_GAME,0!=a?!0:!1)};app.soundController.setMusicVolume(!0==leanderGMApi.getMusicActive()?1:0);app.soundController.setSfxVolume(!0==leanderGMApi.getSfxActive()?1:0);leanderGMApi.subscribeToEvent(leanderGMApi.publications.MUSIC_STATUS_CHANGED,
leanderGMApi_onMusicStatusChanged);leanderGMApi.subscribeToEvent(leanderGMApi.publications.SOUND_EFFECTS_STATUS_CHANGED,leanderGMApi_onSoundEffectsStatusChanged);leanderGMApi.subscribeToEvent(leanderGMApi.publications.BALANCE_UPDATED,leanderGMApi_onBalanceUpdated);leanderGMApi.subscribeToEvent(leanderGMApi.publications.PAY_TABLE_STATUS_CHANGED,leanderGMApi_onPayTableStatusChanged);leanderGMApi.subscribeToEvent(leanderGMApi.publications.PROMOTION_ACTIVE_PLAYS_DONE,function(a){void 0;app.model.promotion.playsDone=
a.data});leanderGMApi.subscribeToEvent(leanderGMApi.publications.PROMOTION_ACTIVE_PLAYS_REMAINING,function(a){void 0;app.model.promotion.playsRemaining=a.data});leanderGMApi.subscribeToEvent(leanderGMApi.publications.PROMOTION_ACTIVE_WON_SO_FAR,function(a){void 0;app.model.promotion.wonSoFar=a.data});leanderGMApi.subscribeToEvent(leanderGMApi.publications.UPDATE_CURRENT_LINES,function(a){void 0;app.model.promotion.currentLines=a.data});leanderGMApi.subscribeToEvent(leanderGMApi.publications.UPDATE_TOTALBET,
function(a){void 0;app.model.promotion.totalBet=a.data});leanderGMApi.subscribeToEvent(leanderGMApi.publications.PROMOTION_ACTIVE_UPDATED,function(){void 0;0<app.model.promotion.playsRemaining?app.model.promotion.enabled=!0:app.model.promotion.enabled&&(app.model.promotion.enabled=!1,app.hudController.setTotalBet(app.model.totalBet))});leanderGMApi.subscribeToEvent(leanderGMApi.publications.PROMOTION_CANCELLED,function(){void 0;app.model.promotion.enabled=!1});var g=leanderGMApi.subscribeToEvent(leanderGMApi.publications.INITIALIZED_CONFIRMED,
function(){void 0;leanderGMApi.unsubscribeFromEvent(g)});window.phaserGame.state.start("baseState")},presentGame:function(){void 0;app.baseState.hideMenu();server.model.actions&&0<server.model.actions.length?(void 0,app.raiseError(999,"Unfinished Game",app.util.bind(this,function(){void 0;app.controller.startPlay()}))):app.controller.startPlay()},startAutoplay:function(c){void 0;delete app.model.autoplay;c&&(app.model.autoplay={},app.model.autoplay.spins=c.spins,app.model.autoplay.haltOnWin=c.haltOnWin,
app.model.autoplay.autoHalt=!1,app.model.autoplay.lossLimit=c.lossLimit,app.model.autoplay.singleWinLimit=c.singleWinLimit,app.model.autoplay.spent=0,app.model.autoplay.won=0,app.model.autoplay.totalSpent=0,app.model.autoplay.totalWon=0);app.hudController.startAutoplay(c)},parsePayTable:function(c){void 0;for(var b=[],a=0;10>a;a++){b[a]=0;var g=c[a.toString()];g&&(b[a]=g.values[3])}void 0;return b},createPaylineOffsets:function(c){app.paylineOffsets=c;app.paylineWayOffsets=[];for(c=0;c<app.paylineOffsets.length;c++){for(var b=
[],a=0;5>a;a++)b.push([a,app.paylineOffsets[c][a]]);app.paylineWayOffsets.push(b)}},parsePaylineOffsets:function(c){for(var b=[],a=0;a<c.length;a++){var g=c[a],h=[0,0,0,0,0];void 0;for(var d=0;d<g.length;d++)h[d]=Math.floor((g[d]-1)/5);b.push(h)}return b},parseAutoplaySettingsPage:function(c){void 0;if(c.autoPlayList){!0==app.settings.reverseAutoplayList&&c.autoPlayList.reverse();var b=app.getAutoplaySetting("numberOfRounds");b&&(b.values=c.autoPlayList)}},parseServerResponse:function(c){void 0;for(var b=
0;b<c.length;b++){var a=c[b];void 0;if(a.code)return void 0,delete app.model.autoplay,app.hudController.unsetAutoSpin(),app.raiseError(a.code,a.description),!1;switch(a.method){case "openPlay":void 0;break;case "saveData":void 0;break;case "placeBet":void 0;break;case "getBetResult":if(void 0,server.model.state={},server.model.state.playId=a.playId,server.model.state.balance=a.balance,server.model.state.freeBalance=a.freeBalance,server.model.state.betLines=server.model.betLines,server.model.state.lineBet=
server.model.lineBet,server.model.state.totalBet=server.model.totalBet,server.model.state.totalWin=a.params[0].creditsWon,server.model.state.rsym=parseReelLayout(a.params[0].reelLayout),server.model.state.isym=server.model.state.rsym.slice(),server.model.state.spinNo=0,server.model.state.balance+=server.model.state.totalWin,a.params){var g=a.params[0];void 0;(a=g.creditsWon)&&0<a&&void 0;var h=a=0,d=0,e={name:"reelOutcome"};e.reelOutcome=processSpin(g,a,h,server.model.state.lineBet);d=Number(Number(d+
e.reelOutcome.spinWin).toFixed(2));e.reelOutcome.runningWin=d;e.reelOutcome.totalBet=server.model.state.totalBet;server.model.actions.push(e);h=getHoldBits(e.reelOutcome.wildReels);if(g.bonusInfo){for(var f,e=0;e<g.bonusInfo.length;e++)"FreeSpins"==g.bonusInfo[e].bonusName&&(f=g.bonusInfo[e].freeSpinList);if(f){void 0;for(g=0;g<f.length;g++){var l=f[g][0],e={name:"spinReels"},m={};m.holdBits=h;e.spinReels=m;server.model.actions.push(e);e={name:"reelOutcome"};e.reelOutcome=processSpin(l,++a,h,server.model.state.lineBet);
d=Number(Number(d+e.reelOutcome.spinWin).toFixed(2));e.reelOutcome.runningWin=d;e.reelOutcome.totalBet=server.model.state.totalBet;server.model.actions.push(e);h|=getHoldBits(e.reelOutcome.wildReels)}}}}}}return!0},handlePlayEnded:function(){void 0;app.model.playId?sendLeanderSettlePlayRequest():(void 0,app.controller.startNextAction())},startNextAction:function(){void 0;if(app.model.actionIx===server.model.actions.length)void 0,app.model.actionIx++,app.baseState.actionEndPlay(server.model.state,
null),leanderGMApi.publishEvent(leanderGMApi.publications.TOTALWIN_UPDATED,app.model.state.totalWin),leanderGMApi.publishEvent(leanderGMApi.publications.BALANCE_UPDATED_GAME,{balance:app.model.state.balance,free_balance:0});else if(app.model.actionIx>server.model.actions.length){void 0;void 0;leanderGMApi.publishEvent(leanderGMApi.publications.BALANCE_UPDATED_GAME,{balance:app.model.state.balance,free_balance:0});leanderGMApi.publishEvent(leanderGMApi.publications.GAME_RESULTS_SHOWN,null);app.model.state.holdBits=
0;if(!0===app.settings.useCustomAutoplayFeature&&app.model.autoplay){var c=app.model.autoplay.totalSpent+app.model.totalBet-app.model.autoplay.totalWon;null!==app.model.autoplay.lossLimit&&c>app.model.autoplay.lossLimit?(void 0,app.model.autoplay.spins=0,app.raiseError(532,"Loss limit reached",app.util.bind(this,function(){}))):app.model.autoplay.won>=app.model.autoplay.singleWinLimit&&(void 0,app.model.autoplay.spins=0,app.raiseError(531,"Single win limit reached",app.util.bind(this,function(){})))}c=
!1;app.model.autoplay&&(app.model.autoplay.spins&&0<app.model.autoplay.spins)&&(app.model.autoplay.haltOnWin&&0<app.model.state.totalWin?app.model.autoplay.autoHalt=!0:c=!0);c?app.baseState.actionAutoSpin(server.model.state,null):app.baseState.actionPlaceYourBets(server.model.state,null)}else c=server.model.actions[app.model.actionIx++],void 0,"placeYourBets"===c.name?app.baseState.actionPlaceYourBets(server.model.state,null):"betPlaced"===c.name?app.baseState.actionBetPlaced(server.model.state,c.betPlaced):
"startReels"===c.name?app.baseState.actionStartReels(server.model.state,c.startReels):"spinReels"===c.name?app.baseState.actionSpinReels(server.model.state,c.spinReels):"reelOutcome"===c.name?(app.baseState.actionReelOutcome(server.model.state,c.reelOutcome),leanderGMApi.publishEvent(leanderGMApi.publications.BALANCE_UPDATED_GAME,{balance:app.hudController.getBalance(),free_balance:0})):void 0}};leanderGMApi_onResize=function(c){void 0;app.resize(c.data)};
app.resize=function(c){void 0;void 0;void 0;var b=c.width;c=c.height;var a=!1,g=1024,h=680;b<c&&(a=!0,g=780,h=860);var g=b/g,d=c/h,h=1,h=g>d?d:g;a?app.isPortrait||(app.isPortrait=!0,app.baseState&&app.baseState.setAspect()):app.isPortrait&&(app.isPortrait=!1,app.baseState&&app.baseState.setAspect());a=1024*h;g=860*h;void 0;void 0;void 0;void 0;void 0;void 0;void 0;var d=1600*h,h=1600*h,e=-((d-b)/2),f=-((h-c)/2);app.gameElement.style.left=b/2-a/2+"px";app.gameElement.style.top=c/2-g/2+"px";app.gameElement.style.width=
a+"px";app.gameElement.style.height=g+"px";window.phaserGame.scale.setMinMax(a,g,a,g);app.backgroundElement&&(app.backgroundElement.style.left=e+"px",app.backgroundElement.style.top=f+"px",app.backgroundElement.style.width=d+"px",app.backgroundElement.style.height=h+"px")};
initGameManagerAPI=function(){delete leanderGMApi;var c=app.util.urlQuery.apiAddress;void 0;c?/\/["'<>=?[]{}]\/gi/.test(c)&&(c="../../"):c="../../";apiScript=document.createElement("script");apiScript.type="text/javascript";apiScript.src=c+"leandergmapi/4/LeanderApiLoader.php";document.body.appendChild(apiScript)};function waitForGameManagerAPI(c){"undefined"!=typeof leanderGMApi&&leanderGMApi&&leanderGMApi.initialized?c():setTimeout(function(){waitForGameManagerAPI(c)},500)}
app.initialise=function(){void 0;app.isPortrait=!1;app.xSpacing=132;app.ySpacing=140;window.phaserGame=new Phaser.Game(1024,860,Phaser.CANVAS,"app-game",null,!0);setTimeout(function(){var c=window.phaserGame;window.phaserGame.stage.scale.scaleMode=Phaser.ScaleManager.NO_SCALE;window.phaserGame.scale.scaleMode=Phaser.ScaleManager.NO_SCALE;window.phaserGame.stage.disableVisibilityChange=app.settings.disablePauseOnLostFocus;app.backgroundElement=document.getElementById("app-background");app.gameElement=
document.getElementById("app-game");app.model={};void 0;app.Accountancy=window.accounting;c.state.add("bootState",app.BootState);c.state.add("preloaderState",app.PreloaderState);c.state.add("baseState",app.BaseState);app.baseState=c.state.states.baseState;app.preloaderState=c.state.states.preloaderState;leanderGMApi.subscribeToEvent(leanderGMApi.publications.BROWSER_RESIZED,leanderGMApi_onResize);app.resize(leanderGMApi.getEnvironmentProperties());app.preloaderState.onProgressUpdated=function(a){leanderGMApi.publishEvent(leanderGMApi.publications.PRELOADING_PROGRESS_UPDATED,
a)};app.preloaderState.onComplete=function(){void 0;app.controller.sendLogin()};leanderGMApi.publishEvent(leanderGMApi.publications.GAME_VERSION_UPDATE,app.settings.version);var b=leanderGMApi.getCurrencyFormatting();app.locale.thousandsSeparator=b.groupingSeparator;app.locale.decimalSeparator=b.decimalSeparator;leanderGMApi.publishEvent(leanderGMApi.publications.PRELOADING_STARTED);app.assetsPath="";app.dataPath="data/";c.state.start("bootState")},500)};
leanderGMApi_onMusicStatusChanged=function(c){void 0;c=c.data;void 0;null!=app.soundController&&(app.soundController.setMusicVolume(!0==c?1:0),null!=app.hudController&&app.hudController.showAudioState(leanderGMApi.getMusicActive(),leanderGMApi.getSfxActive()))};leanderGMApi_onSoundEffectsStatusChanged=function(c){void 0;c=c.data;void 0;null!=app.soundController&&(app.soundController.setSfxVolume(!0==c?1:0),null!=app.hudController&&app.hudController.showAudioState(leanderGMApi.getMusicActive(),leanderGMApi.getSfxActive()))};
leanderGMApi_onBalanceUpdated=function(c){void 0;if(c.data){var b=c.data;c=Number(b.balance);b=Number(b.free_balance);void 0;void 0;null!=app.model&&null!=app.hudController&&(server.model.balance=c+b,app.controller.setBalance(server.model.balance),app.hudController.drawBalance())}};leanderGMApi_onPayTableStatusChanged=function(c){void 0;null!=c.data&&(c=c.data,void 0,null!=app.hudController&&app.hudController.setInfoViewVisibility(c))};
leanderGMApi_onControlPanelStatusChanged=function(c){void 0;null!=c.data&&void 0};app.hudController_onInfoViewVisibilityChanged=function(c){void 0;leanderGMApi.publishEvent(leanderGMApi.publications.PAY_TABLE_STATUS_CHANGED_GAME,c)};app.hudController_onAutoplayViewVisibilityChanged=function(){void 0};
var handleInitializeGameResponse=function(c){void 0;app.controller.onLoggedIn(c[0])},parseReelLayout=function(c){var b=[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]];if(c)for(var a=0;5>a;a++)for(var g=0;5>g;g++)if(0==g||4==g)b[a][g]=window.phaserGame.rnd.integerInRange(2,9);else{var h=5*(g-1)+a;h<c.length&&(b[a][g]=c[h])}return b},getReelNumber=function(c){return Math.floor((c-1)%5)},getReelOffset=function(c){return Math.floor((c-1)/5)+1},processBonusInfos=function(c,b){void 0;for(var a=
0;a<b.length;a++){var g=b[a];if("StickyWildRespin"==g.bonusName){void 0;c.wildReels=[];for(var h=0;h<g.wildSelectedReels.length;h++){var d=g.wildSelectedReels[h]-1,e=getReelOffset(g.wildSelectedPositions[h]);c.wildReels.push([d,e]);c.isym[d][e]=1;c.rsym[d][1]=1;c.rsym[d][2]=1;c.rsym[d][3]=1}}}},processSpin=function(c,b,a,g){void 0;var h={};h.spinNo=b;h.totalWin=c.creditsWon;h.spinWin=0;if(c.reelLayout){h.rsym=parseReelLayout(c.reelLayout);h.isym=parseReelLayout(c.reelLayout);for(b=0;5>b;b++)a&1<<
b&&(h.isym[b][0]=1,h.isym[b][1]=1,h.isym[b][2]=1,h.isym[b][3]=1,h.isym[b][4]=1,h.rsym[b][0]=1,h.rsym[b][1]=1,h.rsym[b][2]=1,h.rsym[b][3]=1,h.rsym[b][4]=1)}c.bonusInfo&&processBonusInfos(h,c.bonusInfo);if(c.winningLines&&(h.spinWin=c.winningLines.creditsWon,(c=c.winningLines.lines)&&0<c.length)){h.lineWins=[];for(a=0;a<c.length;a++){var d=c[a];b={};b.paylineId=d.line;b.win=d.creditsWon;b.mul=d.creditsWon/g;b.sym=d.symbol;if(d=d.matchPositions){b.lineSymbols=[];for(var e=0;e<d.length;e++){var f={};
f.reel=getReelNumber(d[e]);f.offset=getReelOffset(d[e]);f.symbolId=h.rsym[f.reel][f.offset];b.lineSymbols.push(f)}}h.lineWins.push(b)}}void 0;return h},getHoldBits=function(c){var b=0;if(c)for(var a=0;a<c.length;a++)b|=1<<c[a][0];return b},handleOpenPlayResponse=function(c){void 0;!0===app.controller.parseServerResponse(c)?app.controller.startPlay():(void 0,app.model.reelOutcome={},app.model.reelOutcome.rsym=server.model.state.rsym,app.model.reelOutcome.isym=server.model.state.isym,app.baseState.abortSpin())},
handleSettlePlayResponse=function(){void 0;server.model.actions&&app.controller.startNextAction()},leanderRequestCompletedSubscription,leanderRequestFailedSubscription,sendLeanderRequest=function(c){void 0;leanderRequestCompletedSubscription&&(leanderGMApi.unsubscribeFromEvent(leanderRequestCompletedSubscription),leanderRequestCompletedSubscription=null);leanderRequestFailedSubscription&&(leanderGMApi.unsubscribeFromEvent(leanderRequestFailedSubscription),leanderRequestFailedSubscription=null);leanderRequestCompletedSubscription=
leanderGMApi.subscribeToEvent(leanderGMApi.requestStatus.REQUEST_COMPLETED,function(b){void 0;leanderGMApi.unsubscribeFromEvent(leanderRequestCompletedSubscription);leanderRequestCompletedSubscription=null;leanderGMApi.unsubscribeFromEvent(leanderRequestFailedSubscription);leanderRequestFailedSubscription=null;if(null===b||null===b.data||b.data.constructor!==Array||1>b.data.length)app.raiseError(107,"Bad response");else if(b.data[0].code)app.raiseError(b.data[0].code,b.data[0].description);else{b=
b.data;var a=b[0].method;switch(a){case "initializeGame":handleInitializeGameResponse(b);break;case "openPlay":handleOpenPlayResponse(b);break;case "settlePlay":handleSettlePlayResponse(b);break;default:app.raiseError(107,"Unhandled method: "+a)}}});leanderRequestFailedSubscription=leanderGMApi.subscribeToEvent(leanderGMApi.requestStatus.REQUEST_FAILED,function(b){void 0;leanderGMApi.unsubscribeFromEvent(leanderRequestCompletedSubscription);leanderRequestCompletedSubscription=null;leanderGMApi.unsubscribeFromEvent(leanderRequestFailedSubscription);
leanderRequestFailedSubscription=null;server&&(server.model&&server.model.state)&&(app.model.reelOutcome={},app.model.reelOutcome.rsym=server.model.state.rsym,app.model.reelOutcome.isym=server.model.state.isym,app.baseState.abortSpin());null===b||null===b.data||b.data.constructor!==Array||1>b.data.length?app.raiseError(99,"CONNECTION ERROR"):app.raiseError(107,"BAD RESPONSE")});leanderGMApi.sendRequest(c)},sendLeanderInitializeGameRequest=function(){void 0;leanderGMApi.publishEvent(leanderGMApi.publications.GAME_STATUS_CHANGED,
leanderGMApi.gameStates.INITIALIZE);sendLeanderRequest({params:{},method:"initializeGame"})},sendLeanderOpenPlayRequest=function(){void 0;leanderGMApi.publishEvent(leanderGMApi.publications.GAME_STATUS_CHANGED,leanderGMApi.gameStates.OPEN_PLAY);sendLeanderRequest([{method:"openPlay",params:{}},{method:"saveData",params:{name:"bettingParameters",data:{denomination:1,currentBetPerLine:app.model.state.lineBet,currentLines:20}}},{method:"placeBet",params:{type:"spin",params:{linesPlayed:20},bet:20*app.model.state.lineBet}},
{method:"getBetResult",params:{}}])},sendLeanderSettlePlayRequest=function(){void 0;leanderGMApi.publishEvent(leanderGMApi.publications.GAME_STATUS_CHANGED,leanderGMApi.gameStates.SETTLE_PLAY);sendLeanderRequest([{method:"settlePlay",params:{}},{method:"closePlay",params:{}},{method:"getBalance",params:{}}])},subscribePlayConfirmation=null;app.getAutoplaySetting=function(c){for(var b=elements.autoplaySettings.settings,a=0;a<b.length;a++)if(b[a].id===c)return b[a]};
app.setAudioState=function(c){void 0;var b=1,a=1;switch(c){case 3:b=a=1;break;case 2:a=1;b=0;break;case 1:a=0;b=1;break;case 0:b=a=0}app.soundController.setMusicVolume(a);app.soundController.setSfxVolume(b)};app.getTranslation=function(c){var b=null,a=c.translations;a&&(b=a[app.locale.lang]);b||(b=c.value);return b};
app.walkTranslations=function(c,b){b=b||0;if(c&&"object"===typeof c)if(c.hasOwnProperty("translations"))c.hasOwnProperty("value")&&(c.value=app.getTranslation(c));else for(var a in c)10>b&&(b=app.walkTranslations(c[a],++b));b--;return b};app.applyTranslations=function(){void 0;app.walkTranslations(elements)};
app.createPhaserTextFromElement=function(c,b,a,g,h){if(g&&g.styles&&g.styles[app.locale.lang]){var d=g.styles[app.locale.lang];d.font&&(h.font=d.font)}c=new Phaser.Text(c,b,a,g.value,h);c.lineSpacing=-5;c.anchor.set(0.5,0.5);return c};app.dispose=function(){leanderGMApi.publishEvent(leanderGMApi.publications.GAME_READY_FOR_UNLOAD)};app.removeUnsupported=function(c){for(var b="",a=0,g=c.length;a<g;a++)0<="01234567890.,".indexOf(c[a])&&(b+=c[a]);return b};
(function(){function c(a){void 0;var c={focus:"visible",focusin:"visible",pageshow:"visible",blur:"hidden",focusout:"hidden",pagehide:"hidden"},h="";a=a||window.event;h=a.type in c?c[a.type]:this[b]?"hidden":"visible";void 0;app.soundController&&app.soundController.setMute("hidden"==h)}var b="hidden";b in document?document.addEventListener("visibilitychange",c):(b="mozHidden")in document?document.addEventListener("mozvisibilitychange",c):(b="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",
c):(b="msHidden")in document?document.addEventListener("msvisibilitychange",c):"onfocusin"in document?document.onfocusin=document.onfocusout=c:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=c;void 0!==document[b]&&c({type:document[b]?"blur":"focus"})})();
window.onload=function(){void 0;initGameManagerAPI();waitForGameManagerAPI(function(){void 0;void 0;void 0;void 0;void 0;void 0;void 0;void 0;void 0;void 0;void 0;void 0;void 0;void 0;void 0;leanderGMApi.getLobbyActive()&&(app.settings.lobbyUrl=leanderGMApi.gameOptions.lobbyURL);if(elements.settings){var c=elements.settings;null!==c.useCustomAutoplayFeature&&(app.settings.useCustomAutoplayFeature=c.useCustomAutoplayFeature);null!==c.disablePauseOnLostFocus&&(app.settings.disablePauseOnLostFocus=c.disablePauseOnLostFocus);
null!==c.disableSlamStopOption&&(app.settings.disableSlamStopOption=c.disableSlamStopOption);null!==c.bigWinMul&&(app.settings.bigWinMul=c.bigWinMul);null!==c.hugeWinMul&&(app.settings.hugeWinMul=c.hugeWinMul);null!==c.megaWinMul&&(app.settings.megaWinMul=c.megaWinMul);null!==c.disableWinVisualCancellation&&(app.settings.disableWinVisualCancellation=c.disableWinVisualCancellation)}app.locale.lang=leanderGMApi.gameOptions.locale;c=app.locale.lang.indexOf("-");0<=c&&(app.locale.lang=app.locale.lang.substring(0,
c));app.applyTranslations();c=leanderGMApi.getEnvironmentProperties();void 0;c&&(app.isMobile=!0==c.isMobile);leanderGMApi.subscribeToEvent(leanderGMApi.publications.ERROR_HANDLED,function(b){b=b.data;void 0;b.action&&b.action()});leanderGMApi.subscribeToEvent(leanderGMApi.publications.DISPOSE_APPLICATION,function(){void 0;app.dispose()});app.initialise()})};
